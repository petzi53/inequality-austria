{
  "hash": "84b2f55094fe68a26511ebcb65d77c15",
  "result": {
    "engine": "knitr",
    "markdown": "# Austrian Data {#sec-austrian-data}\n\n\n\n\n\n\n\n\n\n::: {#obj-chapter-template}\n::: my-objectives\n::: my-objectives-header\nMy objective for this chapter\n:::\n\n::: my-objectives-container\nIn this chapter, I will take a first take on the <a class='glossary' title='The ‘World Inequality Database’ (WID) aims to provide open and convenient access to the most extensive available database on the historical evolution of the world distribution of income and wealth, both within countries and between countries. WID.WORLD'>WID</a>\nAustrian data set. I will import the dataset with two methods:\n\n1. \"By Country\" via the interactive web\n    page.\n2. The full WID data set.\n\nSubsequently, I will explore the content of the data folder and describe\nthe structure of the data.\n\nFinally, I will inspect the dataset and explore prototypically different methods to work with the data:\n\n- Using the interactive website (iframe, URL, image, social media)\n- Using the {**wid**} R package, which unfortunately recently is not supported anymore\n- Using the original country data files\n:::\n:::\n:::\n\n## Import data by country\n\n::: my-procedure\n::: my-procedure-header\n::: {#prp-austrian-data-by-country}\n: Download the Austrian dataset \"By Country\" via the interactive web\npage\n:::\n:::\n\n::: my-procedure-container\n1.  Go to the [WID homepage](https://wid.world/).\n2.  Select \"Austria\" from the \"By Country\" menu.\n3.  Click at the button \"Full Dataset\" to start download.\n4.  Download the compressed <a class='glossary' title='A .zip file is a type of archive file format that compresses one or more files or directories into a single, smaller file. (Brave-Internet)'>ZIP</a> file to an appropriate\n    place on your hard disk. The file name\n    `WID_fulldataset_AT_30-08-2024_15_02_39.zip` has the structure\n    \"WID\" + \"\\_fulldataset\\_\" + `country code` + \"\\_\" +\n    `day-month-year` + \"-\" + `hour-minute-second` + \".zip\". Every part\n    of date and time consists of two numbers. The time is\n    <a class='glossary' title='UTC is the primary time standard globally used to regulate clocks and time. It establishes a reference for the current time, forming the basis for civil time and time zones. Introduced on January 1, 1960, UTC is an international basis of civil and scientific time, replacing Greenwich Mean Time (GMT) as the global time standard. (Brave-Internet)'>UTC</a>, i.e. one hour or two (in summer time) before\n    Austrian local time.\n5.  Decompress the ZIP file with the appropriate tool on your computer.\n    The result is a folder with the same name but without the extension\n    \".zip\".\n:::\n:::\n\n![Download the Austrian dataset \"By Country\" via the [interactive web\npage](https://wid.world/country/austria/)](img/02-download-austrian-data-by-country-skitch-min.png){#fig-02-austria-by-country\nfig-alt=\"alt-text\" fig-align=\"center\" width=\"100%\"}\n\n::: my-r-code\n::: my-r-code-header\n::: {#cnj-02-download-AT-data}\n: Download data for Austria\n:::\n:::\n\n::: my-r-code-container\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# compute only once (manually)\n\nfile_path = \"data/chap02/WID_fulldataset_AT_30-08-2024_15_02_39/WID_data_AT.csv\"\n\nWID_data_AT <- readr::read_delim(file_path, delim = \";\", escape_double = FALSE, trim_ws = TRUE)\n\nsave_data_file(\"chap02\", WID_data_AT, \"WID_data_AT.rds\")\n```\n:::\n\n\n\n\n(*For this R code chunk is no output available*)\n:::\n:::\n\n## Import the full WID dataset\n\n::: my-procedure\n::: my-procedure-header\n::: {#prp-complete-WID-data}\n: Download the full WID dataset\n:::\n:::\n\n::: my-procedure-container\n1.  Go to the [WID homepage](https://wid.world/).\n2.  Select \"Data\" from the navigation bar.\n3.  Go straight (without selecting data) to the button \"Download Full\n    Dataset\" and click it.\n4.  Download the compressed <a class='glossary' title='A .zip file is a type of archive file format that compresses one or more files or directories into a single, smaller file. (Brave-Internet)'>ZIP</a> file to an appropriate\n    place on your hard disk. The file name is `wid_all_data.zip`\n5.  Decompress the ZIP file with the appropriate tool on your computer.\n    The result is a folder with the same name but without the extension\n    \".zip\".\n:::\n:::\n\n![Download the full WID\ndataset](img/02-download-full-WID-dataset-skitch-min.png){#fig-download-full-wid\nfig-alt=\"alt-text\" fig-align=\"center\" width=\"100%\"}\n\n## Inspect downloaded folder\n\n![Screenshot of the 'Files' pane showing the content of the downloaded\ndata\nfolder](img/02-content-of-WID-AT-data-folder-min.png){#fig-02-WID-AT-data-folder\nfig-alt=\"alt-text\" fig-align=\"center\" width=\"100%\"}\n\nThe data folder for the Austrian data has four files. The most important\nis the `README.md` file, because it explains very detailed the content\nof the other three files.\n\nThe data folder for the full WID data is in its structure not different.\nIt contains one `README.md` and `WID_countries.csv` files with the same\ncontent as in the country downloaded version. The big difference is that\nthere many `WID_data_XX.csv` and `WID_metadata_XX.csv` files. For each\ncountry code there is a file with the same structure as in the Austrian\nexample meaning that `WID_data_AT.csv` has identical name and content in\nthe \"By Country\" and the full version. Currently (2024-08-30) there are\n338 \"country\" codes, include not only countries but smaller regions with\n(federal) states (like Alabama in the US and Bavaria in Germany) or\nlarger region with geographical / political areas (like Europe and\nEuropean Union).\n\n## Exploration of the `README.md` file\n\nThe `README.md` file contains information that is essential to\nunderstand the data structure. I will copy most of the content slightly\nchanged for formatting reasons and add my own comments whenever I feel\nit is necessary.\n\n### Structure and Format of the CSV files\n\n> The CSV files use the semicolon \";\" as a separator. Strings are quoted\n> when required. The first row corresponds to variable names.\n\nThis is important information how to upload the .csv files.\n<a class='glossary' title='Text files where the values are separated with commas (Comma Separated Values = CSV). These files have the file extension .csv'>CSV</a> stands for comma-separated values but in the WID\ncase the separation character is a semi-colon. Instead of using the\n`readr::read_csv()` we have to use the more general\n`readr::read_delim()` function and specifying the delimiter as \";\".\n\n#### Structure of WID_countries.csv file {#sec-02-wid-countries}\n\n> The `WID_countries.csv` file contains five variables:\n>\n> -   **alpha2**: the 2-letter country/region code. It mostly follows\n>     the [ISO 3166-1 alpha-2\n>     nomenclature](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2),\n>     with some additions to account for former countries, regions and\n>     subregions. Regions within country XX are indicated as XX-YY,\n>     where YY is the region code. World regions are indicated as XX and\n>     XX-MER, the first one using purchasing power parities\n>     (<a class='glossary' title='Purchasing Power Parity (PPP) is the exchange rate that equates the price of a basket of identical traded goods and services in two countries. Converting values to PPP therefore accounts for differences in costs of living between countries, enabling comparisons between income levels in different countries. (WIR2022 - Technical Notes, p.6)'>PPP</a>), (the default) and the second one using\n>     market exchange rates (<a class='glossary' title='The Market Exchange Rate (MER) is the rate at which one currency can be exchanged for another.'>MER</a>). See [the technical\n>     note \"Prices and currency conversions in\n>     WID.world\"](https://wid.world/document/convert-wid-world-series/)\n>     for details.\n> -   **titlename**: the name of the country/region as it would appear\n>     in an English sentence (i.e. including the definite article, if\n>     any).\n> -   **shortname**: the name of the country/region as it would appear\n>     on its own in English (i.e. excluding the definite article).\n> -   **region**: broad world region to which the country belongs\n>     (similar to the first-level division of the [United Nations\n>     geoscheme](https://www.worldatlas.com/geography/the-geoscheme-of-the-united-nations.html)).\n> -   **region2**: detailed world region to which the country belongs\n>     (similar to the second-level division of the United Nations\n>     geoscheme).\n\nThe [United Nation Geoscheme of the United\nNations](https://www.worldatlas.com/geography/the-geoscheme-of-the-united-nations.html)\nused by the WID is a tool widely utilized by organizations and\ngovernments, promotes a detailed worldview by fragmenting continents\ninto more manageable portions. Although initially designed for\nstatistical purposes by the United Nations Statistics Division, its\napplication has extended beyond this original intent. But it is not\nuncontroversial.\n\nFor example there is a recognition differences for Palestine and Kosovo.\nThe UN recognizes [195 countries](https://www.worldatlas.com/countries):\n193 that belong to the United Nations (UN) plus the Holy See (Vatican)\nand the State of Palestine, which are non-member observer states. See\nthe discussion in [How many countries are there in the\nworld](https://www.worldatlas.com/geography/how-many-countries-are-there-in-the-world.html)\nwith a [list of countries according to the UN\ngeoscheme](https://www.worldatlas.com/geography/the-geoscheme-of-the-united-nations.html#h_27924556326881689241385858)\nand the [Official Country\nList](https://www.worldatlas.com/geography/how-many-countries-are-there-in-the-world.html#h_8513270116691681224109796).\n\nFor the WID the country questions is not the all important question\nbecause it (tries to) includes all self-governed territories that both\nhave substantial economic resources of their own. So it contains\nPalestine, Kosovo, Taiwan and many more territories not recognized as an\ncountry.\n\n#### Structure of the WID_data_XX.csv files\n\n> The WID_data_XX.csv files contain seven variables:\n>\n> -   **country**: country/region code (see @sec-02-wid-countries).\n> -   **variable**: WID variable code (see below for details).\n> -   **percentile**: WID percentile code (see below for details).\n> -   **year**: the year of the data point.\n> -   **value**: the value of the data point.\n> -   **age**: code indicating the age group to which the data point\n>     refers to.\n> -   **pop**: code indicating the population unit to which the data\n>     point refers to.\n\n#### Structure of the WID_metadata_XX.csv\n\n> The WID_metadata_XX.csv contains seventeen variables:\n>\n> -   **country**: the country/region code.\n> -   **variable**: the variable code to which the metadata refer.\n> -   **age**: the code of the age group to which the population refer.\n> -   **pop**: the code of the population unit to which the population\n>     refer.\n> -   **countryname**: the name of the country/region as it would appear\n>     in an English sentence.\n> -   **shortname**: the name of the country/region as it would appear\n>     on its own in English.\n> -   **simpledes**: decription of the variable in plain English.\n> -   **technicaldes**: description of the variable via accounting\n>     identities.\n> -   **shorttype**: short description of the variable type (average,\n>     aggregate, share, index, etc.) in plain English.\n> -   **longtype**: longer, more detailed description of the variable\n>     type in plain English.\n> -   **shortpop**: short description of the population unit\n>     (individuals, tax units, equal-split, etc.) in plain English.\n> -   **longpop**: longer, more detailed description of the population\n>     unit in plain English.\n> -   **shortage**: short description of the age group (adults, full\n>     population, etc.) in plain English.\n> -   **longage**: longer, more detailed description of the age group in\n>     plain English.\n> -   **unit**: unit of the variable (the 3-letter currency code for\n>     monetary amounts).\n> -   **source**: The source(s) used to compute the data.\n> -   **method**: Methological details describing how the data was\n>     constructed and/or caveats.\n\n### How to Interpret Variable Codes?\n\n> The meaning of each variable is described in the metadata files. The\n> complete WID variable codes (i.e. `sptinc992j`) obey to the following\n> logic:\n>\n> -   **the first letter** indicates the variable type (i.e. \"s\" for\n>     share).\n> -   **the next five letters** indicate the income/wealth/other concept\n>     (i.e. `ptinc` for pre-tax national income).\n> -   **the next three digits** indicate the age group (i.e. `992` for\n>     adults).\n> -   **the last letter** indicate the population unit (i.e. `j` for\n>     equal-split).\n\n### How to Interpret Percentile Codes?\n\nThere are two types of percentiles on WID.world : (1) group percentiles\nand (2) generalized percentiles. The interpretation of income (or\nwealth) average, share or threshold series depends on which type of\npercentile is looked at.\n\n#### Group Percentiles\n\n> Group percentiles are defined as follows:\n>\n> -   p0p50 (bottom 50% of the population),\n> -   p50p90 (next 40%),\n> -   p90p100 (top 10%),\n> -   p99p100 (top 1%),\n> -   deciles:\n>     -   p0p10 (bottom 10% of the population, i.e. first decile),\n>     -   p10p20 (next 10%, i.e. second decile),\n>     -   p20p30 (next 10%, i.e. third decile),\n>     -   p30p40 (next 10%, i.e. fourth decile),\n>     -   p40p50 (next 10%, i.e. fifth decile),\n>     -   p50p60 (next 10%, i.e. sixth decile),\n>     -   p60p70 (next 10%, i.e. seventh decile),\n>     -   p70p80 (next 10%, i.e. eighth decile),\n>     -   p80p90 (next 10%, i.e. ninth decile),\n>     -   p90p100 (next 10%, i.e. tenth decile, already emntioned under\n>         top 10%)\n> -   p0p90 (bottom 90%),\n> -   p0p99 (bottom 99% of the population),\n> -   p99.9p100 (top 0.1%),\n> -   p99.99p100 (top 0.01%).\n>\n> For each group percentiles, we provide the associated income or wealth\n> shares, averages and thresholds.\n>\n> -   **group percentile shares** correspond to the income (or wealth)\n>     share held by a given group percentile. For instance, the\n>     fiscal income share of group p0p50 is the share of total fiscal\n>     income captured by the bottom 50% group.\n> -   **group percentile averages** correspond to the income or wealth\n>     annual income (or wealth) average within a given group percentile\n>     group. For instance, the fiscal income average of group p0p50 is\n>     the average annual fiscal income of the bottom 50% group.\n> -   **group percentile thresholds** correspond to the minimum income\n>     (or wealth) level required to belong to a given group\n>     percentile. For instance, the fiscal income threshold of group\n>     p90p100 is the minimum annual fiscal income required to belong to\n>     the top 10% group.\n>\n> When the data allows, the WID.world website makes it possible\n> to produce shares, averages and thresholds for any group percentile\n> (say, for instance, average income of p43p99.92). These are not stored\n> in bulk data tables.\n>\n> For certain countries, because of data limitations, we are not able to\n> provide the list of group percentiles described above. We instead\n> store specific group percentiles (these can be, depending on the\n> countries p90p95, p95p100, p95p99, p99.5p100, p99.5p99.9, p99.75p100,\n> p99.95p100, p99.95p99.99, p99.995p100, p99.9p99.95, p99.9p99.99 or\n> p99p99.5).\n\n#### Generalized Percentiles\n\n> **Generalized percentiles (g-percentiles)** are defined to as follows:\n> p0, p1, p2, ..., p99, p99.1, p99.2, ..., p99.9, p99.91, p99.92, ...,\n> p99.99, p99.991, p99.992 ,..., p99.999. There are 127 g-percentiles in\n> total.\n>\n> For each g-percentiles, we provide shares, averages, top averages and\n> thresholds.\n>\n> -   **g-percentiles shares** correspond to the income (or wealth)\n>     share captured by the population group above a given g-percentile\n>     value. For example, the fiscal income share of g-percentile p90\n>     corresponds to the fiscal income share held by the top 10% group;\n>     the fiscal income share of g-percentile p99.9 corresponds to the\n>     fiscal income share of the top 0.1% income group and so on. By\n>     construction, the fiscal income share of g-percentile p0\n>     corresponds to the share held by 100% of the population and is\n>     equal to 100%. Formally, the g-percentile share at g-percentile pX\n>     corresponds to the share of the top (100-X)% group.\n> -   **g-percentile averages** correspond to the average income or\n>     wealth between two consecutive g-percentiles.\n>     -   **1% population group**: Average income of g-percentile p0\n>         corresponds to the average annual income of the bottom 1%\n>         group, p2 corresponds to the next 1% group and so on until p98\n>         (the 1% population group below the top 1%).\n>     -   **Bottom 10% group of earners within the top 1% group of\n>         earners**: Average income of g-percentile p99 corresponds to\n>         average annual of group percentile p99p99.1 (i.e. the bottom\n>         10% group of earners within the top 1% group of earners),\n>         p99.1 corresponds to the next 0.1% group, p99.2 corresponds to\n>         the next 0.1% group and so on until p99.8.\n>     -   **Bottom 10% group of earners within the top 0.1% group of\n>         earners**: Average income of p99.9 corresponds to the average\n>         annual income of group percentile p99.9p99.91 (i.e. the bottom\n>         10% group of earners within the top 0.1% group of earners),\n>         p99.91 corresponds to the next 0.01% group, p99.92 corresponds\n>         to the next 0.01% group and so on until p99.98.\n>     -   **Bottom 10% group within the top 0.01% group of earners**:\n>         Average income of p99.99, corresponds to the average annual\n>         income of group percentile p99.99p99.991 (i.e. the bottom 10%\n>         group within the top 0.01% group of earners), p99.991\n>         corresponds to the next 0.001%, p99.992 corresponds to the\n>         next 0.001% group and so on until p99.999 (average income of\n>         the top 0.001% group).\n>\n> For instance, average fiscal income of g-percentile p50 is equal to\n> the average annual fiscal income of the p50p51 group percentile (i.e.\n> the average annual income of the population group earning more than\n> 50% of the population and less than the top 49% of the population).\n> The average fiscal income of g-percentile p99 is equal to the average\n> annual fiscal income within group percentile p99p99.1 (i.e. a group\n> representing 0.1% of the total population earning more than 99% of the\n> population but less than the top 0.9% of the population).\n>\n> -   **g-percentile top-averages** correspond to the average income or\n>     wealth above a given g-percentile threshold. For instance the top\n>     average fiscal income at g-percentile p50 corresponds to the\n>     average annual fiscal income of individuals earning more than 50%\n>     of the population. The top average fiscal income at g-percentile\n>     p90 corresponds to the average annual fiscal income of the top 10%\n>     group.\n> -   **g-percentile thresholds** correspond to minimum income (or\n>     wealth) level required to belong to the population group above a\n>     given g-percentile value. For instance, the fiscal income\n>     threshold at g-percentile p90 corresponds to the minimum annual\n>     fiscal income required to belong to the top 10% group. Fiscal\n>     income threshold at g-percentile p99.9 corresponds to the minimum\n>     annual fiscal income required to belong to the top 0.1% group.\n>     Formally, the g-percentile threshold at g-percentile pX\n>     corresponds to the threshold of the top (100-X)% group.\n\n## Inspect AT data\n\n::: my-r-code\n::: my-r-code-header\n::: {#cnj-02-skim-AT-data}\n: Look at the AT dataset\n:::\n:::\n\n::: my-r-code-container\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nWID_AT <- base::readRDS(\"data/chap02/WID_data_AT.rds\")\nskimr::skim(WID_AT)\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |       |\n|:------------------------|:------|\n|Name                     |WID_AT |\n|Number of rows           |228538 |\n|Number of columns        |7      |\n|_______________________  |       |\n|Column type frequency:   |       |\n|character                |5      |\n|numeric                  |2      |\n|________________________ |       |\n|Group variables          |None   |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|country       |         0|             1|   2|   2|     0|        1|          0|\n|variable      |         0|             1|  10|  10|     0|      974|          0|\n|percentile    |         0|             1|   4|  14|     0|      388|          0|\n|age           |         0|             1|   3|   3|     0|       38|          0|\n|pop           |         0|             1|   1|   1|     0|        4|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|        mean|           sd|           p0|     p25|    p50|      p75|         p100|hist  |\n|:-------------|---------:|-------------:|-----------:|------------:|------------:|-------:|------:|--------:|------------:|:-----|\n|year          |         0|             1| 2.00164e+03| 1.313000e+01|         1950| 1992.00| 2003.0|  2012.00| 2.023000e+03|▁▁▅▇▇ |\n|value         |         0|             1| 2.55648e+09| 3.893223e+10| -80197894144|    0.67|  756.1| 57360.05| 2.510236e+12|▇▁▁▁▁ |\n\n\n:::\n:::\n\n\n\n:::\n:::\n\n## Trial to work with data\n\nI am going to try different methods to work with the data from the WID.\nI will use as a prototypical example the Austrian income inequality\nduring 1980-2022 of the pre-tax national income for the bottom 50%,\nmiddle 40%, top 10%, and top 1%.\n\n### Interactive website\n\n#### Preparing the graph interactively\n\nI have prepared the above mentioned task at the interactive WID website.\nThe middle 40% is missing in the key indicators, so I had to use the\nmenu \"MORE INDICATORS\", Here is the screenshot of my result:\n\n![title](img/02-income_WID_AT_50_40_10_1-min.png){#fig-02-screenshot-income_WID_AT_50_40_10_1\nfig-alt=\"alt-text\" fig-align=\"center\" width=\"100%\"}\n\nSharing the results\n\nClicking at the top right arrow opens the option \"Share\" that offers\nseveral possibilities to disseminate the result.\n\n![title](img/02-WID-share-window-min.png){#fig-14-04\nfig-alt=\"alt-text\" fig-align=\"center\" width=\"100%\"}\n\n#### iframe\n\n<iframe width=\"800\" height=\"400\" src=\"https://wid.world/share/#1/countrytimeseries/sptinc_p0p50_z;sptinc_p90p100_z;sptinc_p99p100_z;sptinc_p50p90_992_j/AT/2015/eu/k/p/yearly/s/false/6.3995/50/curve/false/1980/2022\">\n\n</iframe>\n\nThe <a class='glossary' title='iframes allow you to embed HTML documents inside another HTML document. They offer a seamless way to integrate content from one source into another, enabling developers to create more dynamic and interactive web pages. (dev.to)'>iframe</a> option does not work. I do not know why this\nis the case. The standard reason for a “refused to connect” error occurs\nwhen the website being embedded has an X-Frame-Options policy set to\nrestrict embedding in an iframe. But this shouldn't be the case because\nthe iframe code is offered freely at the WID interactive website.\n\n#### URL {#sec-02-url-provided-by-WID}\n\n[URL provided by interactive WID\nwebsite](https://wid.world/share/#0/countrytimeseries/sptinc_p0p50_z;sptinc_p90p100_z;sptinc_p99p100_z;sptinc_p50p90_992_j/AT/2015/eu/k/p/yearly/s/false/6.3995/50/curve/false/1980/2022)\n\n![title](img/02-screenshot-url-income_WID_AT_50_40_10_1-min.png){fig-alt=\"alt-text\"\nfig-align=\"center\" width=\"100%\"}\n\nFollowing the link the WID website will construct the graph and provide\nother information for further explorations (averages in absolute and\nthreshold of the start amount of population group in currency units, and\nthe <a class='glossary' title='In finance the beta coefficient is a measure to denote the volatility or systematic risk of a security or portfolio compared to the market, usually the S&amp;P 500 which has a beta of 1.0. Stocks with betas higher than 1.0 are interpreted as more volatile than the S&amp;P 500.'>beta coefficient</a>), the full sharing set from the\ninteractive construction website, the possibility to download the data\nand a detailed description of the variables (in plain English and more\ntechnical via account identities)\n\n::: {#nte-beta-coefficient .callout-note}\n####### Beta coefficient general in finance sectors and in WID particularly\n\nThe concept of beta coefficient, typically used in finance to measure\nmarket sensitivity, is not directly applicable to WID.world’s data.\nWID.world focuses on estimating and analyzing income and wealth\ninequality, not market returns or portfolio performance.\n\nHowever, if we were to interpret the beta coefficient in a broader\nsense, considering the database’s focus on inequality, we could think of\nit as a measure of the sensitivity of income or wealth inequality to\nchanges in macroeconomic variables, such as GDP growth, inflation, or\ninterest rates.\n\nIn this context, the beta coefficient would represent the relationship\nbetween changes in these macroeconomic variables and the corresponding\nchanges in income or wealth inequality. A high beta coefficient would\nindicate that income or wealth inequality is highly sensitive to changes\nin these macroeconomic variables, while a low beta coefficient would\nsuggest a weaker relationship.\n:::\n\n#### Image\n\nAnother option is to download a static graphic in <a class='glossary' title='JPEG (/ˈdʒeɪpɛɡ/ JAY-peg, short for Joint Photographic Experts Group is a commonly used method of lossy compression for digital images. (Wikipedia)'>JPG</a>\nformat from the WID website. It is a nice summary but has not as many\noptions to refine, explore and get meta information as the URL in\n@sec-02-url-provided-by-WID.\n\n![Graphic provided by the <a class='glossary' title='The ‘World Inequality Database’ (WID) aims to provide open and convenient access to the most extensive available database on the historical evolution of the world distribution of income and wealth, both within countries and between countries. WID.WORLD'>WID</a> interactive website. (I\nhave converted the <a class='glossary' title='JPEG (/ˈdʒeɪpɛɡ/ JAY-peg, short for Joint Photographic Experts Group is a commonly used method of lossy compression for digital images. (Wikipedia)'>JPG</a> image to <a class='glossary' title='Portable Network Graphic (PNG) is a non-patented raster graphics file format that supports lossless data compression. The format was not designed for professional-quality print graphics but for transferring images on the Internet (hence the name ‘portable’). (Wikipedia)'>PNG</a>\nformat.)](img/02-graph-dl-income_WID_AT_50_40_10_1-min.png){fig-alt=\"alt-text\"\nfig-align=\"center\" width=\"100%\"}\n\n#### Social media\n\nAdditionally you can post the result of your work on your Twitter or\nFacebook account.\n\n### Using the {wid} R package\n\nBefore I knew that the {**wid**} package will not be supported anymore\n(read the recent notice at the start of the [README file on the GitHub\nrepository](https://github.com/thomasblanchet/wid-r-tool) by Thomas\nBlanchet[^02-austrian-data-1]), I have used for my first trial the\n`wid::download_wid()` function. It worked fine and I hope that there\nwill in the future another maintainer for this useful package.\n\n[^02-austrian-data-1]: Author and Maintainer [Thomas Blanchet has\n    changed jobs](https://github.com/thomasblanchet) and is not\n    affiliated anymore with the <a class='glossary' title='The ’World Inequality Lab (WIL) is a global research center focused on the study of inequality and public policies that promote social, economic and environmental justice. (WIL)'>WIL</a>.\n\n::: my-r-code\n::: my-r-code-header\n::: {#cnj-02-download-sptincj992-wid-AT-50-40-10-1}\n: Download Austrian pre-tax income data using the {**wid**} package\n:::\n:::\n\n::: my-r-code-container\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# download from WID only once (manually)\nsptincj992_wid_AT_50_40_10_1 <- wid::download_wid(\n    indicators = \"sptinc\", # Shares of pre-tax national income\n    areas = \"AT\", # Austria\n    perc = c(\n        \"p0p50\",   # bottom 50%\n        \"p50p90\",  # middle 40%\n        \"p90p100\", # top 10%\n        \"p99p100\"  # top 1%\n        )\n)\n\nsave_data_file(\"chap02\", sptincj992_wid_AT_50_40_10_1, \"sptincj992_wid_AT_50_40_10_1.rds\")\n```\n:::\n\n\n\n\n(*For this R code chunk is no output available*)\n:::\n:::\n\n::: my-r-code\n::: my-r-code-header\n::: {#cnj-02-plot-sptincj992-wid-AT-50-40-10-1}\n: Pre-tax national income for Austria (using {wid})\n:::\n:::\n\n::: my-r-code-container\n::: {#lst-02-plot-sptincj992_wid_AT_50_40_10_1}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsptincj992_wid_AT_50_40_10_1 <- base::readRDS(\"data/chap02/sptincj992_wid_AT_50_40_10_1.rds\")\n\nggplot2::ggplot(sptincj992_wid_AT_50_40_10_1, \n    ggplot2::aes(x = year, y = value, color = percentile)) +\n    ggplot2::geom_line() + \n    ggplot2::geom_point() +\n    ggplot2::ylab(\"share of income\") +\n    ggplot2::scale_color_discrete(\n        breaks = c(\n            'p50p90', 'p90p100', 'p0p50', 'p99p100' \n            ),\n        labels = c(\n            \"p99p100\" = \"top 1%\",\n            \"p0p50\" = \"bottom 50%\", \n            \"p90p100\" = \"top 10%\", \n            \"p50p90\" = \"middle 40%\"\n            ),\n    ) +\n    ggplot2::ggtitle(\"Pre-tax national income inequality in Austria\")\n```\n\n::: {.cell-output-display}\n![](02-austrian-data_files/figure-html/plot-sptincj992-wid-AT-50-40-10-1-1.png){width=672}\n:::\n:::\n\n\n\nPre-tax national income for Austria (using {wid})\n:::\n\n:::\n:::\n\n### Using data form the original country file\n\nUsing the data directly from the original country file is the most\ngeneral option with the highest flexibility. But to get a similar\ninteractive graph one not has to use for the plot additionally to the\n{**ggplot2**} as shown in @cnj-02-plot-sptincj992-wid-AT-50-40-10-1 also\nthe {**plotly**} package.\n\nI need the following variable:\n\n-   The [series\n    type](https://wid.world/codes-dictionary/#one-letter-code) is \"share\"\n    = `s`\n-   The [pre-tax national\n    income](https://wid.world/codes-dictionary/#pretax-income) =\n    `ptinc`.\n-   The population unit[^02-austrian-data-2] is \"equal-split adults\" = `j`.\n-   The [adult\n    population](https://wid.world/codes-dictionary/#three-digit-code) =\n    `992`.\n\n[^02-austrian-data-2]: There is no direct link to this section. The URL\n    `#first-letter-code`\\` is not unique. It is used for the series type\n    which comes before the population unit with the same URL.\n\nTaking this codes together results in the variable `sptincj992`.\n\nI need the following percentiles:\n\n-   bottom 50%: `p0p50`,\n-   middle 40%: `p50p90`,\\\n-   top 10% : `p90p100`,\n-   top 1% : `p99p100`\n\n::: my-r-code\n::: my-r-code-header\n::: {#cnj-02-sptincj992_country_AT_50_40_10_1}\n: Preparing Austrian data for pre-tax national income (using country file)\n:::\n:::\n\n::: my-r-code-container\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# compute only once (manually)\n\nWID_data_AT <- base::readRDS(\"data/chap02/WID_data_AT.rds\")\n\nsptincj992_country_AT_50_40_10_1 <- WID_data_AT |>\n    dplyr::filter(\n        variable == \"sptincj992\" & (\n        percentile == \"p0p50\" |\n        percentile == \"p50p90\" |\n        percentile == \"p90p100\" |\n        percentile == \"p99p100\")\n        ) |> \n    dplyr::select(1:5)\n\n\nsave_data_file(\"chap02\", sptincj992_country_AT_50_40_10_1, \"sptincj992_country_AT_50_40_10_1.rds\")\n```\n:::\n\n\n\n:::\n:::\n\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-02-plot-sptincj992_country_AT_50_40_10_1}\n: Plot Austrian pre-tax national income (using country file)\n::::::\n:::\n::::{.my-r-code-container}\n::: {#lst-02-plot-sptincj992_country_AT_50_40_10_1}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsptincj992_country_AT_50_40_10_1 <- base::readRDS(\"data/chap02/sptincj992_country_AT_50_40_10_1.rds\")\n\nfig_sptincj992 <- ggplot2::ggplot(sptincj992_country_AT_50_40_10_1, \n    ggplot2::aes(x = year, y = value, color = percentile)) +\n    ggplot2::geom_line() + \n    ggplot2::geom_point() +\n    ggplot2::ylab(\"share of income\") +\n    ggplot2::scale_color_discrete(\n        breaks = c(\n            'p50p90', 'p90p100', 'p0p50', 'p99p100' \n            ),\n        labels = c(\n            \"p99p100\" = \"top 1%\",\n            \"p0p50\" = \"bottom 50%\", \n            \"p90p100\" = \"top 10%\", \n            \"p50p90\" = \"middle 40%\"\n            ),\n    ) +\n    ggplot2::ggtitle(\"Pre-tax national income inequality in Austria\")\n\nfig_sptincj992\n```\n\n::: {.cell-output-display}\n![](02-austrian-data_files/figure-html/plot-sptincj992_country_AT_50_40_10_1-1.png){width=672}\n:::\n:::\n\n\n\nPlot Austrian pre-tax national income (using country file)\n:::\n\n\n::::\n:::::\n\n::: {.callout-tip}\n####### Compare {wid} download with country data\n\nWe got the same results for our own computation from the original country file above with the calculation using the {**wid**} package @lst-02-plot-sptincj992_wid_AT_50_40_10_1. (Hover over the link to compare both graphs.)\n\n\n:::\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-ID-text}\n: Numbered R Code Title\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplotly::ggplotly(fig_sptincj992)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-a046a2ed749111d4aceb\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-a046a2ed749111d4aceb\">{\"x\":{\"data\":[{\"x\":[1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],\"y\":[0.21820000000000001,0.21790000000000001,0.2175,0.2177,0.21759999999999999,0.21690000000000001,0.2162,0.22209999999999999,0.22420000000000001,0.21859999999999999,0.2205,0.22120000000000001,0.2215,0.21809999999999999,0.21870000000000001,0.21640000000000001,0.2162,0.21440000000000001,0.21440000000000001,0.221,0.21540000000000001,0.21959999999999999,0.21560000000000001,0.21129999999999999,0.2185,0.21199999999999999,0.20280000000000001,0.21029999999999999,0.21210000000000001,0.21410000000000001,0.21190000000000001,0.21659999999999999,0.2243,0.22589999999999999,0.2175,0.2198,0.21809999999999999,0.22409999999999999,0.22389999999999999,0.2271,0.21959999999999999,0.22320000000000001,0.223],\"text\":[\"year: 1980<br />value: 0.2182<br />percentile: p0p50\",\"year: 1981<br />value: 0.2179<br />percentile: p0p50\",\"year: 1982<br />value: 0.2175<br />percentile: p0p50\",\"year: 1983<br />value: 0.2177<br />percentile: p0p50\",\"year: 1984<br />value: 0.2176<br />percentile: p0p50\",\"year: 1985<br />value: 0.2169<br />percentile: p0p50\",\"year: 1986<br />value: 0.2162<br />percentile: p0p50\",\"year: 1987<br />value: 0.2221<br />percentile: p0p50\",\"year: 1988<br />value: 0.2242<br />percentile: p0p50\",\"year: 1989<br />value: 0.2186<br />percentile: p0p50\",\"year: 1990<br />value: 0.2205<br />percentile: p0p50\",\"year: 1991<br />value: 0.2212<br />percentile: p0p50\",\"year: 1992<br />value: 0.2215<br />percentile: p0p50\",\"year: 1993<br />value: 0.2181<br />percentile: p0p50\",\"year: 1994<br />value: 0.2187<br />percentile: p0p50\",\"year: 1995<br />value: 0.2164<br />percentile: p0p50\",\"year: 1996<br />value: 0.2162<br />percentile: p0p50\",\"year: 1997<br />value: 0.2144<br />percentile: p0p50\",\"year: 1998<br />value: 0.2144<br />percentile: p0p50\",\"year: 1999<br />value: 0.2210<br />percentile: p0p50\",\"year: 2000<br />value: 0.2154<br />percentile: p0p50\",\"year: 2001<br />value: 0.2196<br />percentile: p0p50\",\"year: 2002<br />value: 0.2156<br />percentile: p0p50\",\"year: 2003<br />value: 0.2113<br />percentile: p0p50\",\"year: 2004<br />value: 0.2185<br />percentile: p0p50\",\"year: 2005<br />value: 0.2120<br />percentile: p0p50\",\"year: 2006<br />value: 0.2028<br />percentile: p0p50\",\"year: 2007<br />value: 0.2103<br />percentile: p0p50\",\"year: 2008<br />value: 0.2121<br />percentile: p0p50\",\"year: 2009<br />value: 0.2141<br />percentile: p0p50\",\"year: 2010<br />value: 0.2119<br />percentile: p0p50\",\"year: 2011<br />value: 0.2166<br />percentile: p0p50\",\"year: 2012<br />value: 0.2243<br />percentile: p0p50\",\"year: 2013<br />value: 0.2259<br />percentile: p0p50\",\"year: 2014<br />value: 0.2175<br />percentile: p0p50\",\"year: 2015<br />value: 0.2198<br />percentile: p0p50\",\"year: 2016<br />value: 0.2181<br />percentile: p0p50\",\"year: 2017<br />value: 0.2241<br />percentile: p0p50\",\"year: 2018<br />value: 0.2239<br />percentile: p0p50\",\"year: 2019<br />value: 0.2271<br />percentile: p0p50\",\"year: 2020<br />value: 0.2196<br />percentile: p0p50\",\"year: 2021<br />value: 0.2232<br />percentile: p0p50\",\"year: 2022<br />value: 0.2230<br />percentile: p0p50\"],\"type\":\"scatter\",\"mode\":\"lines+markers\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(248,118,109,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"p0p50\",\"legendgroup\":\"p0p50\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(248,118,109,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(248,118,109,1)\"}},\"frame\":null},{\"x\":[1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],\"y\":[0.43930000000000002,0.44040000000000001,0.4415,0.4415,0.44219999999999998,0.4425,0.44330000000000003,0.4355,0.43469999999999998,0.4405,0.43909999999999999,0.4385,0.43969999999999998,0.44169999999999998,0.44209999999999999,0.44569999999999999,0.4446,0.442,0.43680000000000002,0.44340000000000002,0.4355,0.43790000000000001,0.43609999999999999,0.42730000000000001,0.44009999999999999,0.433,0.42249999999999999,0.43669999999999998,0.43259999999999998,0.44350000000000001,0.44090000000000001,0.44479999999999997,0.45679999999999998,0.45290000000000002,0.44169999999999998,0.44719999999999999,0.44019999999999998,0.44209999999999999,0.44319999999999998,0.44409999999999999,0.42899999999999999,0.43530000000000002,0.43509999999999999],\"text\":[\"year: 1980<br />value: 0.4393<br />percentile: p50p90\",\"year: 1981<br />value: 0.4404<br />percentile: p50p90\",\"year: 1982<br />value: 0.4415<br />percentile: p50p90\",\"year: 1983<br />value: 0.4415<br />percentile: p50p90\",\"year: 1984<br />value: 0.4422<br />percentile: p50p90\",\"year: 1985<br />value: 0.4425<br />percentile: p50p90\",\"year: 1986<br />value: 0.4433<br />percentile: p50p90\",\"year: 1987<br />value: 0.4355<br />percentile: p50p90\",\"year: 1988<br />value: 0.4347<br />percentile: p50p90\",\"year: 1989<br />value: 0.4405<br />percentile: p50p90\",\"year: 1990<br />value: 0.4391<br />percentile: p50p90\",\"year: 1991<br />value: 0.4385<br />percentile: p50p90\",\"year: 1992<br />value: 0.4397<br />percentile: p50p90\",\"year: 1993<br />value: 0.4417<br />percentile: p50p90\",\"year: 1994<br />value: 0.4421<br />percentile: p50p90\",\"year: 1995<br />value: 0.4457<br />percentile: p50p90\",\"year: 1996<br />value: 0.4446<br />percentile: p50p90\",\"year: 1997<br />value: 0.4420<br />percentile: p50p90\",\"year: 1998<br />value: 0.4368<br />percentile: p50p90\",\"year: 1999<br />value: 0.4434<br />percentile: p50p90\",\"year: 2000<br />value: 0.4355<br />percentile: p50p90\",\"year: 2001<br />value: 0.4379<br />percentile: p50p90\",\"year: 2002<br />value: 0.4361<br />percentile: p50p90\",\"year: 2003<br />value: 0.4273<br />percentile: p50p90\",\"year: 2004<br />value: 0.4401<br />percentile: p50p90\",\"year: 2005<br />value: 0.4330<br />percentile: p50p90\",\"year: 2006<br />value: 0.4225<br />percentile: p50p90\",\"year: 2007<br />value: 0.4367<br />percentile: p50p90\",\"year: 2008<br />value: 0.4326<br />percentile: p50p90\",\"year: 2009<br />value: 0.4435<br />percentile: p50p90\",\"year: 2010<br />value: 0.4409<br />percentile: p50p90\",\"year: 2011<br />value: 0.4448<br />percentile: p50p90\",\"year: 2012<br />value: 0.4568<br />percentile: p50p90\",\"year: 2013<br />value: 0.4529<br />percentile: p50p90\",\"year: 2014<br />value: 0.4417<br />percentile: p50p90\",\"year: 2015<br />value: 0.4472<br />percentile: p50p90\",\"year: 2016<br />value: 0.4402<br />percentile: p50p90\",\"year: 2017<br />value: 0.4421<br />percentile: p50p90\",\"year: 2018<br />value: 0.4432<br />percentile: p50p90\",\"year: 2019<br />value: 0.4441<br />percentile: p50p90\",\"year: 2020<br />value: 0.4290<br />percentile: p50p90\",\"year: 2021<br />value: 0.4353<br />percentile: p50p90\",\"year: 2022<br />value: 0.4351<br />percentile: p50p90\"],\"type\":\"scatter\",\"mode\":\"lines+markers\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(124,174,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"p50p90\",\"legendgroup\":\"p50p90\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(124,174,0,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(124,174,0,1)\"}},\"frame\":null},{\"x\":[1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],\"y\":[0.34250000000000003,0.3417,0.34089999999999998,0.34079999999999999,0.3402,0.34060000000000001,0.34050000000000002,0.34229999999999999,0.3412,0.34089999999999998,0.34039999999999998,0.34029999999999999,0.33879999999999999,0.3402,0.3392,0.33789999999999998,0.3392,0.34360000000000002,0.3488,0.33560000000000001,0.34910000000000002,0.34250000000000003,0.3483,0.3614,0.34139999999999998,0.35489999999999999,0.37480000000000002,0.35299999999999998,0.3553,0.34239999999999998,0.34720000000000001,0.33860000000000001,0.31890000000000002,0.32119999999999999,0.34079999999999999,0.33310000000000001,0.3417,0.33379999999999999,0.33300000000000002,0.32879999999999998,0.35139999999999999,0.34150000000000003,0.34189999999999998],\"text\":[\"year: 1980<br />value: 0.3425<br />percentile: p90p100\",\"year: 1981<br />value: 0.3417<br />percentile: p90p100\",\"year: 1982<br />value: 0.3409<br />percentile: p90p100\",\"year: 1983<br />value: 0.3408<br />percentile: p90p100\",\"year: 1984<br />value: 0.3402<br />percentile: p90p100\",\"year: 1985<br />value: 0.3406<br />percentile: p90p100\",\"year: 1986<br />value: 0.3405<br />percentile: p90p100\",\"year: 1987<br />value: 0.3423<br />percentile: p90p100\",\"year: 1988<br />value: 0.3412<br />percentile: p90p100\",\"year: 1989<br />value: 0.3409<br />percentile: p90p100\",\"year: 1990<br />value: 0.3404<br />percentile: p90p100\",\"year: 1991<br />value: 0.3403<br />percentile: p90p100\",\"year: 1992<br />value: 0.3388<br />percentile: p90p100\",\"year: 1993<br />value: 0.3402<br />percentile: p90p100\",\"year: 1994<br />value: 0.3392<br />percentile: p90p100\",\"year: 1995<br />value: 0.3379<br />percentile: p90p100\",\"year: 1996<br />value: 0.3392<br />percentile: p90p100\",\"year: 1997<br />value: 0.3436<br />percentile: p90p100\",\"year: 1998<br />value: 0.3488<br />percentile: p90p100\",\"year: 1999<br />value: 0.3356<br />percentile: p90p100\",\"year: 2000<br />value: 0.3491<br />percentile: p90p100\",\"year: 2001<br />value: 0.3425<br />percentile: p90p100\",\"year: 2002<br />value: 0.3483<br />percentile: p90p100\",\"year: 2003<br />value: 0.3614<br />percentile: p90p100\",\"year: 2004<br />value: 0.3414<br />percentile: p90p100\",\"year: 2005<br />value: 0.3549<br />percentile: p90p100\",\"year: 2006<br />value: 0.3748<br />percentile: p90p100\",\"year: 2007<br />value: 0.3530<br />percentile: p90p100\",\"year: 2008<br />value: 0.3553<br />percentile: p90p100\",\"year: 2009<br />value: 0.3424<br />percentile: p90p100\",\"year: 2010<br />value: 0.3472<br />percentile: p90p100\",\"year: 2011<br />value: 0.3386<br />percentile: p90p100\",\"year: 2012<br />value: 0.3189<br />percentile: p90p100\",\"year: 2013<br />value: 0.3212<br />percentile: p90p100\",\"year: 2014<br />value: 0.3408<br />percentile: p90p100\",\"year: 2015<br />value: 0.3331<br />percentile: p90p100\",\"year: 2016<br />value: 0.3417<br />percentile: p90p100\",\"year: 2017<br />value: 0.3338<br />percentile: p90p100\",\"year: 2018<br />value: 0.3330<br />percentile: p90p100\",\"year: 2019<br />value: 0.3288<br />percentile: p90p100\",\"year: 2020<br />value: 0.3514<br />percentile: p90p100\",\"year: 2021<br />value: 0.3415<br />percentile: p90p100\",\"year: 2022<br />value: 0.3419<br />percentile: p90p100\"],\"type\":\"scatter\",\"mode\":\"lines+markers\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(0,191,196,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"p90p100\",\"legendgroup\":\"p90p100\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,191,196,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(0,191,196,1)\"}},\"frame\":null},{\"x\":[1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],\"y\":[0.11609999999999999,0.1143,0.1124,0.1125,0.1125,0.11269999999999999,0.1128,0.1128,0.1132,0.1132,0.1133,0.11310000000000001,0.11269999999999999,0.1129,0.1128,0.1118,0.1125,0.115,0.11840000000000001,0.10879999999999999,0.1186,0.1137,0.11600000000000001,0.1221,0.1148,0.11269999999999999,0.1331,0.1149,0.1231,0.1082,0.1137,0.1111,0.082699999999999996,0.089599999999999999,0.111,0.1016,0.1108,0.098799999999999999,0.0974,0.094600000000000004,0.1152,0.1069,0.1072],\"text\":[\"year: 1980<br />value: 0.1161<br />percentile: p99p100\",\"year: 1981<br />value: 0.1143<br />percentile: p99p100\",\"year: 1982<br />value: 0.1124<br />percentile: p99p100\",\"year: 1983<br />value: 0.1125<br />percentile: p99p100\",\"year: 1984<br />value: 0.1125<br />percentile: p99p100\",\"year: 1985<br />value: 0.1127<br />percentile: p99p100\",\"year: 1986<br />value: 0.1128<br />percentile: p99p100\",\"year: 1987<br />value: 0.1128<br />percentile: p99p100\",\"year: 1988<br />value: 0.1132<br />percentile: p99p100\",\"year: 1989<br />value: 0.1132<br />percentile: p99p100\",\"year: 1990<br />value: 0.1133<br />percentile: p99p100\",\"year: 1991<br />value: 0.1131<br />percentile: p99p100\",\"year: 1992<br />value: 0.1127<br />percentile: p99p100\",\"year: 1993<br />value: 0.1129<br />percentile: p99p100\",\"year: 1994<br />value: 0.1128<br />percentile: p99p100\",\"year: 1995<br />value: 0.1118<br />percentile: p99p100\",\"year: 1996<br />value: 0.1125<br />percentile: p99p100\",\"year: 1997<br />value: 0.1150<br />percentile: p99p100\",\"year: 1998<br />value: 0.1184<br />percentile: p99p100\",\"year: 1999<br />value: 0.1088<br />percentile: p99p100\",\"year: 2000<br />value: 0.1186<br />percentile: p99p100\",\"year: 2001<br />value: 0.1137<br />percentile: p99p100\",\"year: 2002<br />value: 0.1160<br />percentile: p99p100\",\"year: 2003<br />value: 0.1221<br />percentile: p99p100\",\"year: 2004<br />value: 0.1148<br />percentile: p99p100\",\"year: 2005<br />value: 0.1127<br />percentile: p99p100\",\"year: 2006<br />value: 0.1331<br />percentile: p99p100\",\"year: 2007<br />value: 0.1149<br />percentile: p99p100\",\"year: 2008<br />value: 0.1231<br />percentile: p99p100\",\"year: 2009<br />value: 0.1082<br />percentile: p99p100\",\"year: 2010<br />value: 0.1137<br />percentile: p99p100\",\"year: 2011<br />value: 0.1111<br />percentile: p99p100\",\"year: 2012<br />value: 0.0827<br />percentile: p99p100\",\"year: 2013<br />value: 0.0896<br />percentile: p99p100\",\"year: 2014<br />value: 0.1110<br />percentile: p99p100\",\"year: 2015<br />value: 0.1016<br />percentile: p99p100\",\"year: 2016<br />value: 0.1108<br />percentile: p99p100\",\"year: 2017<br />value: 0.0988<br />percentile: p99p100\",\"year: 2018<br />value: 0.0974<br />percentile: p99p100\",\"year: 2019<br />value: 0.0946<br />percentile: p99p100\",\"year: 2020<br />value: 0.1152<br />percentile: p99p100\",\"year: 2021<br />value: 0.1069<br />percentile: p99p100\",\"year: 2022<br />value: 0.1072<br />percentile: p99p100\"],\"type\":\"scatter\",\"mode\":\"lines+markers\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(199,124,255,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"p99p100\",\"legendgroup\":\"p99p100\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(199,124,255,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(199,124,255,1)\"}},\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":43.105022831050235},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Pre-tax national income inequality in Austria\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[1977.9000000000001,2024.0999999999999],\"tickmode\":\"array\",\"ticktext\":[\"1980\",\"1990\",\"2000\",\"2010\",\"2020\"],\"tickvals\":[1980,1990,2000,2010,2020],\"categoryorder\":\"array\",\"categoryarray\":[\"1980\",\"1990\",\"2000\",\"2010\",\"2020\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"year\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.063994999999999996,0.47550499999999996],\"tickmode\":\"array\",\"ticktext\":[\"0.1\",\"0.2\",\"0.3\",\"0.4\"],\"tickvals\":[0.10000000000000001,0.20000000000000001,0.30000000000000004,0.40000000000000002],\"categoryorder\":\"array\",\"categoryarray\":[\"0.1\",\"0.2\",\"0.3\",\"0.4\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"share of income\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(51,51,51,1)\",\"width\":0.66417600664176002,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"percentile\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"d46dc6b43fb\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"d46d563c1a1b\":{\"x\":{},\"y\":{},\"colour\":{}}},\"cur_data\":\"d46dc6b43fb\",\"visdat\":{\"d46dc6b43fb\":[\"function (y) \",\"x\"],\"d46d563c1a1b\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n:::::{.my-resource}\n:::{.my-resource-header}\n:::::: {#lem-02-plotly-resources}\n: Plotly Resources for R\n::::::\n:::\n::::{.my-resource-container}\n\n- Interactive Website: Sievert, C. (2019). Interactive web-based data visualization with R, plotly, and shiny. https://plotly-r.com/\n- Book: Sievert, C. (2020). Interactive Web-Based Data Visualization with R, plotly, and shiny. Chapman and Hall/CRC.\n\n::::\n:::::\n",
    "supporting": [
      "02-austrian-data_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}