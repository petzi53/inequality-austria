{
  "hash": "209856d65912da9f2199e93daa5c45d1",
  "result": {
    "engine": "knitr",
    "markdown": "# Well-Being {#sec-well-being}\n\n\n\n\n\n\n\n\n\n\n\n:::::: {#obj-chapter-template}\n::::: my-objectives\n::: my-objectives-header\nMy objective for this chapter\n:::\n\n::: my-objectives-container\nIn this chapter, I will take a first take on the well-being ranking data\nprovided by the different [World Happiness Reports\n2012-2024](https://worldhappiness.report/analysis/)\n[@whr-download-analysis].\n\nThere are figures for all countries trajectories during the years. This\nalso includes Austria [@helliwell2024a, p.10]. My general aim is to\nprovide a comparison of the series of rankings for Austria with other\nselected countries. I will focus on the so-called Cantril ladder of\nsubjective life evaluation [@nilsson2024].\n\nAs far as I can see from my first inspection, there are at least three\nchallenges:\n\n1.  **Compatibility**: Check if all the data are compatible.\n2.  **Completeness**: Check if the data for the time series are\n    complete. I noticed already that there is no Excel data file\n    for 2013. Bu there data in a PDF file. How to get these data?\n    Another issue are the number of observed countries by year. How to\n    get consistent rankings if the number of countries varies?\n3.  **Visualization** Choose an appropriate visualization of the data.\n    There are already up-to-date (2005-2023) visualization of\n    trajectories. But these plots are visualizing the absolute value of\n    the life evaluations country-by-country as the following example of\n    Austria shows.\n\n![Series of the values of subjective life evaluations for Austria\n(2005-2023)](img/09-austria-well-being-trajectory-min.png){#fig-09-life-evaluation-austria\nfig-alt=\"alt-text\" fig-align=\"center\" width=\"80%\"}\n\n\n@fig-09-life-evaluation-austria is a valuable figure to compare the development of the Austrian life evaluation index. But it is not useful for a comparison with other countries. Here I am thinking of two different visualizations:\n\n1. Series of several selected countries in one figure so that it facilitates a comparison. In this case I will develop a graph with different colored lines for different countries.\n2. With another figure I will try to capture the changes in rankings of some selected countries. The development of the absolute values of the life evaluations does not necessarily reflect the progress inside  countries because they are also influenced by global developments (e.g., COVID-19).\n:::\n:::::\n::::::\n\n\n\n## Import data\n\n### Folder and file oganization\n\nThe first step is to find the life-evaluation data for each year and to store the files for further R processing. I will store the files in the \"whr\" folder inside my \"data\" folder. (As I do not know the chapter number for this well-being chapter, I am not going to use my traditional  format \"chapXX\" (\"XX\" standing for the chapter number) but just \"whr\" as folder name.)\n\nThe `pb_create_folder()` function in the following code chunk checks if the folder already exists. If this is the case it leaves it untouched, otherwise it creates the folder at the desired path. The code for my private functions are in the file `helper.R` inside the `R` folder at root level of this working directory.\n\n:::::{.my-resource}\n:::{.my-resource-header}\n:::::: {#lem-folder-structure}\n: File Organization for WHR files\n::::::\n:::\n::::{.my-resource-container}\n\nI will organize the many files into several subfolders:\n\n- **/data/**: main folder for all data files related this project\n- **/data/whr/**: files related to the analysis of the the World Happiness Reports\n- **/data/whr/excel/**: untouched original Excel files resp. the one PDF for the 2013 report (to prevent possible link rot at the original source)\n- **/data/whr/rds/**: R objects of the original data of the Excel files\n- **/data/whr/analysis/**: changed or created R objects during the analysis process\n- **/data/whr/2013-coord/** R object containing page coordinates of the 2013 PDF file\n\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-create-whr-folder}\n: Create folders for data files of the World Happiness Reports\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\npb_create_folder(base::paste0(here::here(), \"/data/\"))\npb_create_folder(base::paste0(here::here(), \"/data/whr\"))\npb_create_folder(base::paste0(here::here(), \"/data/whr/excel\"))\npb_create_folder(base::paste0(here::here(), \"/data/whr/rds\"))\npb_create_folder(base::paste0(here::here(), \"/data/whr/analysis\"))\npb_create_folder(base::paste0(here::here(), \"/data/whr/2013-coord\"))\n```\n:::\n\n\n\n\n\n(*For this R code chunk is no output available*)\n\n\n::::\n:::::\n\n::::\n:::::\n\n### Download and save WHR data\n\n\nThe next code chunks combines two actions for each year:\n\n1. At first I had to get the URL manually. Starting from the [WHR-Analysis website](https://worldhappiness.report/analysis/) I had to open each year and to look for the \"Appendices & data\" link. There I had to look for a data file.\n2. After downloading all data file as Excel files I had to inspect them manually to find the sheet with the Cantril ladder data. I had to note the sheet number for the appropriate download. (Default is sheet 1). Additionally I had to note the file format \"xls\" or \"xlsx\" for each year to call the correct function `readxl::read_xls` or `readxl::read_xlsx`. (I refrained from the format guessing with the more general `readxl::read_exel()` function.) Furthermore I had to skip the first three comment lines in the 2015 dataset.\n\nI am using the utility package [downloader](https://cran.r-project.org/web/packages/downloader/index.html) by Winston Chang because it provides a wrapper for the `utils::download.file()` function with the advantage that the download procedure works on Windows, Mac OS X, and other Unix-like platforms.\n\n\n\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-download-whr-data}\n: Download Data for the World Happiness Reports (WHR)\n::::::\n:::\n::::{.my-r-code-container}\n\n\n**Run the code just once manually**. It will download the data from the World Happiness Report (WHR) website for every year where data are available.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## 2024 #########################################\ndownloader::download(\n    url = \"https://happiness-report.s3.amazonaws.com/2024/DataForFigure2.1+with+sub+bars+2024.xls\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-2024.xls\")\n)\nWHR_data_2024 <- readxl::read_xls(base::paste0(here::here(), \"/data/whr/excel/WHR-2024.xls\"))\npb_save_data_file(\"whr/rds\", WHR_data_2024, \"WHR_data_2024.rds\")\n\n## 2023 #########################################\ndownloader::download(\n    url = \"https://happiness-report.s3.amazonaws.com/2023/DataForFigure2.1WHR2023.xls\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-2023.xls\")\n)\nWHR_data_2023 <- readxl::read_xls(base::paste0(here::here(), \"/data/whr/excel/WHR-2023.xls\"))\npb_save_data_file(\"whr/rds\", WHR_data_2023, \"WHR_data_2023.rds\")\n\n## 2022 #########################################\ndownloader::download(\n    url = \"https://happiness-report.s3.amazonaws.com/2022/Appendix_2_Data_for_Figure_2.1.xls\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-2022.xls\")\n)\nWHR_data_2022 <- readxl::read_xls(base::paste0(here::here(), \"/data/whr/excel/WHR-2022.xls\"))\npb_save_data_file(\"whr/rds\", WHR_data_2022, \"WHR_data_2022.rds\")\n\n## 2021 #########################################\ndownloader::download(\n    url = \"https://happiness-report.s3.amazonaws.com/2021/DataForFigure2.1WHR2021C2.xls\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-2021.xls\")\n)\nWHR_data_2021 <- readxl::read_xls(base::paste0(here::here(), \"/data/whr/excel/WHR-2021.xls\"))\npb_save_data_file(\"whr/rds\", WHR_data_2021, \"WHR_data_2021.rds\")\n\n\n# 2020 #########################################\ndownloader::download(\n    url = \"https://happiness-report.s3.amazonaws.com/2020/WHR20_DataForFigure2.1.xls\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-2020.xls\")\n)\nWHR_data_2020 <- readxl::read_xls(base::paste0(here::here(), \"/data/whr/excel/WHR-2020.xls\"))\npb_save_data_file(\"whr/rds\", WHR_data_2020, \"WHR_data_2020.rds\")\n\n\n# 2019 #########################################\ndownloader::download(\n    url = \"https://s3.amazonaws.com/happiness-report/2019/Chapter2OnlineData.xls\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-2019.xls\")\n)\nWHR_data_2019 <- readxl::read_xls(\n    path = base::paste0(here::here(), \"/data/whr/excel/WHR-2019.xls\"), \n    sheet = 2)\npb_save_data_file(\"whr/rds\", WHR_data_2019, \"WHR_data_2019.rds\")\n\n\n# 2018 #########################################\ndownloader::download(\n    url = \"https://s3.amazonaws.com/happiness-report/2018/WHR2018Chapter2OnlineData.xls\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-2018.xls\")\n)\nWHR_data_2018 <- readxl::read_xls(\n    path = base::paste0(here::here(), \"/data/whr/excel/WHR-2018.xls\"), \n    sheet = 2)\npb_save_data_file(\"whr/rds\", WHR_data_2018, \"WHR_data_2018.rds\")\n\n\n# 2017 #########################################\ndownloader::download(\n    url = \"https://s3.amazonaws.com/happiness-report/2017/online-data-chapter-2-whr-2017.xlsx\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-2017.xlsx\")\n)\nWHR_data_2017 <- readxl::read_xlsx(\n    path = base::paste0(here::here(), \"/data/whr/excel/WHR-2017.xlsx\"), \n    sheet = 3)\npb_save_data_file(\"whr/rds\", WHR_data_2017, \"WHR_data_2017.rds\")\n\n\n# 2016 #########################################\ndownloader::download(\n    url = \"https://s3.amazonaws.com/happiness-report/2016/Online-data-for-chapter-2-whr-2016.xlsx\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-2015.xlsx\")\n)\nWHR_data_2016 <- readxl::read_xlsx(\n    path = base::paste0(here::here(), \"/data/whr/excel/WHR-2016.xlsx\"), \n    sheet = 3)\npb_save_data_file(\"whr/rds\", WHR_data_2016, \"WHR_data_2016.rds\")\n\n# 2015 #########################################\ndownloader::download(\n    url = \"https://s3.amazonaws.com/happiness-report/2015/Chapter2OnlineData_Expanded-with-Trust-and-Governance.xlsx\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-2015.xlsx\")\n)\nWHR_data_2015 <- readxl::read_xlsx(\n    path = base::paste0(here::here(), \"/data/whr/excel/WHR-2015.xlsx\"), \n    sheet = 2,\n    skip = 3)\npb_save_data_file(\"whr/rds\", WHR_data_2015, \"WHR_data_2015.rds\")\n\n## 2014 missing #######################################\n\n\n\n## 2013 data in PDF ##################################\n## store PDF file locally to prevent link rotting\ndownloader::download(\n    url = \"https://s3.amazonaws.com/happiness-report/2013/Chapter-2_online-appendix_9-5-13_final.pdf\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-PDF-2013.pdf\")\n)\n\n## WHR_data_2013 will be generated and saved in the next section. \n\n\n# 2012 #########################################\ndownloader::download(\n    url = \"https://happiness-report.s3.amazonaws.com/2012/2012.xlsx\",\n    destfile = base::paste0(here::here(), \"/data/whr/excel/WHR-2012.xlsx\")\n)\nWHR_data_2012 <- readxl::read_xlsx(\n    path = base::paste0(here::here(), \"/data/whr/excel/WHR-2012.xlsx\"), \n    sheet = 2)\npb_save_data_file(\"whr/rds\", WHR_data_2012, \"WHR_data_2012.rds\")\n```\n:::\n\n\n\n\n\n(*For this R code chunk is no output available*)\n\n\n::::\n:::::\n\n## Extract 2013 WHR Data from PDF\n\nData for the [World Happiness Report 2013](https://worldhappiness.report/ed/2013/#appendices-and-data) are not available in Excel format, unlike data from the other reports. Instead, the data are provided as a PDF file. (See also the second question of the [Frequently Asked Question](https://s3.amazonaws.com/happiness-report/2013/WHR-2013_FAQs_final.pdf))\n\nThis section extracts data I am interested in --- the survey measure of SWB (Subjective Well-being) from the Gallup World Poll (GWP) --- with the help of the `tabulapdf` package.\n\nAt first, I had to look for an appropriate R package because the one I had already used ([tabulizer](https://cran.r-project.org/web/packages/tabulizer/index.html)) was removed from CRAN. I found several packages for extracting PDF text (e.g., [pdftools](https://docs.ropensci.org/pdftools/), [PDE](https://cran.r-project.org/web/packages/PDE/vignettes/PDE.html), [PDFR](https://github.com/AllanCameron/PDFR)), but only [tabulapdf](https://docs.ropensci.org/tabulapdf/) is specialized in extracting table data.\n\nI read the [introductory vignette](https://docs.ropensci.org/tabulapdf/articles/tabulapdf.html) completely because only in the final section I found a solution for my specific PDF. To understand the descriptions of the problems I had to master have a look at [Chapter 2 Appendix](https://s3.amazonaws.com/happiness-report/2013/Chapter-2_online-appendix_9-5-13_final.pdf). We need the cantril ladder data presented in \"Table A2. National Averages in 2010-12\". To extract the data I had to overcome three separate problems:\n\n1. Table A2 spans over several pages (1-6).\n2. On page 6 starts already the next table \"Table A3. National Averages in 2005-07\" which has to be excluded.\n3. Pages 2-6 do not have column names.\n4. Some of the column names in page 1 span two lines\n\nThe difficulties 1 and 2 arise because `tabulapdf` works page-oriented. Difficulty 3 originates from a faulty table design in the PDF. Difficulty 4 is a common problem that can be solved by setting the `col_names` argument to `FALSE`.\n\nThe solution I found is an [interactive table extraction](https://docs.ropensci.org/tabulapdf/articles/tabulapdf.html#interactive-table-extraction) for each page with the `tabulapdf::locate_area()` function and to select only the figures without columns names as demonstrated in the [use case section](https://docs.ropensci.org/tabulapdf/articles/tabulapdf.html#use-case-covid-19-treatments-in-italy) of the vignette.\n\nTidying the dataset for WHR 2013 includes to join country names if the span two lines into one column name and to delete the empty lines consisting of just NA's. Note also that there is a data entry error in the original PDF (see: page 5, second last line, column 6 from the right) that has to be corrected.\n\n\n:::::{.my-code-collection}\n:::{.my-code-collection-header}\n:::::: {#exm-extract-whr-table-data-2013}\n: Extract WHR 2013 Table Data from PDF and Tidy Data\n::::::\n:::\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Extract\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-extract-pdf-table}\n: Extract 2013 Table Data from PDF\n::::::\n:::\n::::{.my-r-code-container}\n\n**Run the code just once manually**. It will download the WHR 2013 PDF, generate interactively the table coordinates and save them for further processing.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tabulapdf)\n\n# set Java memory limit to 600 MB (optional)\noptions(java.parameters = \"-Xmx600m\")\n\n# get the remote file and copy it to a temporary directory internally handled by R\nf <- \"https://s3.amazonaws.com/happiness-report/2013/Chapter-2_online-appendix_9-5-13_final.pdf\"\n\n# manual interactivity selection\n# appropriate page will appear in the RStudio viewer\n# point and drag to locate the areas coordinates\n# see details in screenshot for interactive table extraction\n# https://docs.ropensci.org/tabulapdf/articles/tabulapdf.html#interactive-table-extraction\n\npage1 <- locate_areas(f, pages = 1)[[1]]\npage2_5 <- locate_areas(f, pages = 2)[[1]]\npage6 <- locate_areas(f, pages = 6)[[1]]\n\n\n## store areas coordinates of WHR 2013 PDF data \n## into \"/data/whr/2013-coord\" created at @cnj-create-whr-folder\n\npb_save_data_file(\"whr/2013-coord\", page1, \"page1.rds\")\npb_save_data_file(\"whr/2013-coord\", page2_5, \"page2_5.rds\")\npb_save_data_file(\"whr/2013-coord\", page6, \"page6.rds\")\n```\n:::\n\n\n\n\n\n(*For this R code chunk is no output available*)\n::::\n:::::\n\n\n###### Tidy PDF Data\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-tidy-pdf-data}\n: Tidy 2013 WHR Data\n::::::\n:::\n::::{.my-r-code-container}\n\n**Run the code just once manually**. It will restore the coordinates of the table data for the WHR 2013 PDF, tidy the dataset and save the result as R data object in `.rds` format.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npage1 <- base::readRDS(\"data/whr/2013-coord/page1.rds\")\npage2_5 <- base::readRDS(\"data/whr/2013-coord/page2_5.rds\")\npage6 <- base::readRDS(\"data/whr/2013-coord/page6.rds\")\n\ntable1 <- extract_tables(\n    f,\n    pages = 1, \n    guess = FALSE, \n    col_names = FALSE,\n    area = list(page1)\n)\n\ntable2_5 <- extract_tables(\n    f,\n    pages = c(2, 3, 4, 5), \n    guess = FALSE, \n    col_names = FALSE,\n    area = list(page2_5)\n)\n\ntable6 <- extract_tables(\n    f,\n    pages = 6, \n    guess = FALSE, \n    col_names = FALSE,\n    area = list(page6)\n)\n\nWHR_data_2013 <- dplyr::bind_rows(table1[[1]], \n                 table2_5[[1]], table2_5[[2]], table2_5[[3]], table2_5[[4]], \n                 table6[[1]])\n\ncolumn_names = c(\"Country\", \"Region\", \"Ladder\", \"Social support\",\n                 \"Freedom\", \"Corruption\", \"Donation\", \"Generosity\",\n                 \"Positive affect\", \"Negative affect\", \"Happiness (Yesterday)\",\n                 \"GDP per capita\", \"Healthy life expectancy\")\n\nWHR_data_2013 <- WHR_data_2013 |> \n    dplyr::rename_with(~column_names, dplyr::everything()) |> \n\nWHR_data_2013[17, 1] <- \"Bosnia and Herzegovina\"\nWHR_data_2013[27, 1] <- \"Central African Republic\"\nWHR_data_2013[34, 1] <- \"Congo (Brazzaville)\"\nWHR_data_2013[43, 1] <- \"Dominican Republic\"\nWHR_data_2013[146, 1] <- \"Trinidad and Tobago\"\nWHR_data_2013[154, 1] <- \"United Arab Emirates\"\n\n## missing data (data is in wrong previous NA row)\n## the error already appears in the original PDF \n## (see: page 5, second last line, column 6 from the right)\nWHR_data_2013[154, 6] <- 0.355\n\nWHR_data_2013 <- na.omit(WHR_data_2013)\n\n\npb_save_data_file(\"whr/rds\", WHR_data_2013, \"WHR_data_2013.rds\")\n```\n:::\n\n\n\n\n\n(*For this R code chunk is no output available*)\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n***\n\n\n\n\n\n## Inspect Data\n\n:::::{.my-code-collection}\n:::{.my-code-collection-header}\n:::::: {#exm-inspect-whr-data}\n: Inspect WHR data that contains ladder score and ranking\n::::::\n:::\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### 2024\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2024}\n: Glimpse at WHR 2024 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2024.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 143\n#> Columns: 11\n#> $ `Country name`                               <chr> \"Finland\", \"Denmark\", \"Ic…\n#> $ `Ladder score`                               <dbl> 7.7407, 7.5827, 7.5251, 7…\n#> $ upperwhisker                                 <dbl> 7.814808, 7.665297, 7.617…\n#> $ lowerwhisker                                 <dbl> 7.666591, 7.500103, 7.432…\n#> $ `Explained by: Log GDP per capita`           <dbl> 1.844054, 1.907798, 1.880…\n#> $ `Explained by: Social support`               <dbl> 1.572367, 1.520361, 1.616…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.6947926, 0.6989444, 0.7…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.8592942, 0.8227399, 0.8…\n#> $ `Explained by: Generosity`                   <dbl> 0.14167434, 0.20357856, 0…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.54615778, 0.54841286, 0…\n#> $ `Dystopia + residual`                        <dbl> 2.082367, 1.880887, 2.050…\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### 2023\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2023}\n: Glimpse at WHR 2023 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2023.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 137\n#> Columns: 19\n#> $ `Country name`                               <chr> \"Finland\", \"Denmark\", \"Ic…\n#> $ `Ladder score`                               <dbl> 7.8042, 7.5864, 7.5296, 7…\n#> $ `Standard error of ladder score`             <dbl> 0.03616236, 0.04102795, 0…\n#> $ upperwhisker                                 <dbl> 7.875078, 7.666815, 7.624…\n#> $ lowerwhisker                                 <dbl> 7.733322, 7.505985, 7.434…\n#> $ `Logged GDP per capita`                      <dbl> 10.792010, 10.962164, 10.…\n#> $ `Social support`                             <dbl> 0.9687696, 0.9541122, 0.9…\n#> $ `Healthy life expectancy`                    <dbl> 71.14999, 71.25014, 72.05…\n#> $ `Freedom to make life choices`               <dbl> 0.9614079, 0.9335328, 0.9…\n#> $ Generosity                                   <dbl> -0.018824166, 0.134242162…\n#> $ `Perceptions of corruption`                  <dbl> 0.1817446, 0.1958139, 0.6…\n#> $ `Ladder score in Dystopia`                   <dbl> 1.777825, 1.777825, 1.777…\n#> $ `Explained by: Log GDP per capita`           <dbl> 1.888380, 1.949406, 1.925…\n#> $ `Explained by: Social support`               <dbl> 1.584900, 1.547875, 1.619…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.5345737, 0.5373025, 0.5…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.7715099, 0.7344159, 0.7…\n#> $ `Explained by: Generosity`                   <dbl> 0.12633120, 0.20845851, 0…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.53529859, 0.52522117, 0…\n#> $ `Dystopia + residual`                        <dbl> 2.363241, 2.083766, 2.250…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n###### 2022\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2022}\n: Glimpse at WHR 2022 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2022.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 147\n#> Columns: 12\n#> $ Country                                      <chr> \"Finland\", \"Denmark\", \"Ic…\n#> $ `Happiness score`                            <dbl> 7.8210, 7.6362, 7.5575, 7…\n#> $ `Whisker-high`                               <dbl> 7.886425, 7.709897, 7.651…\n#> $ `Whisker-low`                                <dbl> 7.755575, 7.562503, 7.463…\n#> $ `Dystopia (1.83) + residual`                 <dbl> 2.518052, 2.225632, 2.320…\n#> $ `Explained by: GDP per capita`               <dbl> 1.891628, 1.952595, 1.935…\n#> $ `Explained by: Social support`               <dbl> 1.2581084, 1.2426813, 1.3…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.7752064, 0.7766435, 0.8…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.7355902, 0.7189184, 0.7…\n#> $ `Explained by: Generosity`                   <dbl> 0.10873305, 0.18762571, 0…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.53365809, 0.53207892, 0…\n#> $ RANK                                         <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n###### 2021\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2021}\n: Glimpse at WHR 2021 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2021.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 149\n#> Columns: 20\n#> $ `Country name`                               <chr> \"Finland\", \"Denmark\", \"Sw…\n#> $ `Ladder score`                               <dbl> 7.8421, 7.6195, 7.5715, 7…\n#> $ `Regional indicator`                         <chr> \"Western Europe\", \"Wester…\n#> $ `Standard error of ladder score`             <dbl> 0.03164572, 0.03465708, 0…\n#> $ upperwhisker                                 <dbl> 7.904126, 7.687428, 7.642…\n#> $ lowerwhisker                                 <dbl> 7.780075, 7.551572, 7.500…\n#> $ `Logged GDP per capita`                      <dbl> 10.775202, 10.933176, 11.…\n#> $ `Social support`                             <dbl> 0.9536034, 0.9544095, 0.9…\n#> $ `Healthy life expectancy`                    <dbl> 72.00000, 72.69975, 74.40…\n#> $ `Freedom to make life choices`               <dbl> 0.9492679, 0.9456385, 0.9…\n#> $ Generosity                                   <dbl> -0.09776028, 0.03010889, …\n#> $ `Perceptions of corruption`                  <dbl> 0.1858457, 0.1788384, 0.2…\n#> $ `Ladder score in Dystopia`                   <dbl> 2.430343, 2.430343, 2.430…\n#> $ `Explained by: Log GDP per capita`           <dbl> 1.446356, 1.501548, 1.565…\n#> $ `Explained by: Social support`               <dbl> 1.1061915, 1.1080077, 1.0…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.7408238, 0.7628624, 0.8…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.6905766, 0.6861603, 0.6…\n#> $ `Explained by: Generosity`                   <dbl> 0.12420046, 0.20761457, 0…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.48052397, 0.48499268, 0…\n#> $ `Dystopia + residual`                        <dbl> 3.253415, 2.868296, 2.839…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n###### 2020\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2020}\n: Glimpse at WHR 2019 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2020.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 153\n#> Columns: 20\n#> $ `Country name`                               <chr> \"Finland\", \"Denmark\", \"Sw…\n#> $ `Regional indicator`                         <chr> \"Western Europe\", \"Wester…\n#> $ `Ladder score`                               <dbl> 7.8087, 7.6456, 7.5599, 7…\n#> $ `Standard error of ladder score`             <dbl> 0.03115631, 0.03349229, 0…\n#> $ upperwhisker                                 <dbl> 7.869766, 7.711245, 7.628…\n#> $ lowerwhisker                                 <dbl> 7.747634, 7.579955, 7.491…\n#> $ `Logged GDP per capita`                      <dbl> 10.639267, 10.774001, 10.…\n#> $ `Social support`                             <dbl> 0.9543297, 0.9559908, 0.9…\n#> $ `Healthy life expectancy`                    <dbl> 71.90083, 72.40250, 74.10…\n#> $ `Freedom to make life choices`               <dbl> 0.9491722, 0.9514443, 0.9…\n#> $ Generosity                                   <dbl> -0.059482019, 0.066201776…\n#> $ `Perceptions of corruption`                  <dbl> 0.1954446, 0.1684895, 0.3…\n#> $ `Ladder score in Dystopia`                   <dbl> 1.972317, 1.972317, 1.972…\n#> $ `Explained by: Log GDP per capita`           <dbl> 1.2851895, 1.3269485, 1.3…\n#> $ `Explained by: Social support`               <dbl> 1.499526, 1.503449, 1.472…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.9612714, 0.9793326, 1.0…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.6623167, 0.6650399, 0.6…\n#> $ `Explained by: Generosity`                   <dbl> 0.15967044, 0.24279340, 0…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.47785726, 0.49526033, 0…\n#> $ `Dystopia + residual`                        <dbl> 2.762835, 2.432741, 2.350…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n###### 2019\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2019}\n: Glimpse at WHR 2019 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2019.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 156\n#> Columns: 11\n#> $ Country                                      <chr> \"Finland\", \"Denmark\", \"No…\n#> $ `Happiness score`                            <dbl> 7.7689, 7.6001, 7.5539, 7…\n#> $ `Whisker-high`                               <dbl> 7.829888, 7.666658, 7.615…\n#> $ `Whisker-low`                                <dbl> 7.707912, 7.533542, 7.492…\n#> $ `Dystopia (1.88) + residual`                 <dbl> 2.713678, 2.392891, 2.240…\n#> $ `Explained by: GDP per capita`               <dbl> 1.340243, 1.383439, 1.487…\n#> $ `Explained by: Social support`               <dbl> 1.587276, 1.572595, 1.581…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.9861450, 0.9960189, 1.0…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.5958953, 0.5923561, 0.6…\n#> $ `Explained by: Generosity`                   <dbl> 0.15270843, 0.25231999, 0…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.39291272, 0.41047320, 0…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n###### 2018\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2018}\n: Glimpse at WHR 2018 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2018.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 157\n#> Columns: 24\n#> $ Country                                      <chr> \"Finland\", \"Norway\", \"Den…\n#> $ `Happiness score`                            <dbl> 7.6321, 7.5937, 7.5553, 7…\n#> $ `Whisker-high`                               <dbl> 7.694913, 7.657077, 7.623…\n#> $ `Whisker-low`                                <dbl> 7.569287, 7.530323, 7.487…\n#> $ `Dystopia (1.92) + residual`                 <dbl> 2.595186, 2.383242, 2.370…\n#> $ `Explained by: GDP per capita`               <dbl> 1.305095, 1.455627, 1.351…\n#> $ `Explained by: Social support`               <dbl> 1.592134, 1.582340, 1.590…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.8744537, 0.8607627, 0.8…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.6806335, 0.6864203, 0.6…\n#> $ `Explained by: Generosity`                   <dbl> 0.19163807, 0.28563631, 0…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.39296100, 0.33968720, 0…\n#> $ ...12                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...13                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...14                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...15                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...16                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...17                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...18                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...19                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...20                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...21                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...22                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...23                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...24                                        <chr> \"country\", \"Finland\", NA,…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n###### 2017\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2017}\n: Glimpse at WHR 2017 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2017.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 155\n#> Columns: 11\n#> $ Country                                      <chr> \"Norway\", \"Denmark\", \"Ice…\n#> $ `Happiness score`                            <dbl> 7.537, 7.522, 7.504, 7.49…\n#> $ `Whisker-high`                               <dbl> 7.594445, 7.581728, 7.622…\n#> $ `Whisker-low`                                <dbl> 7.479556, 7.462272, 7.385…\n#> $ `Explained by: GDP per capita`               <dbl> 1.616463, 1.482383, 1.480…\n#> $ `Explained by: Social support`               <dbl> 1.533524, 1.551122, 1.610…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.7966665, 0.7925655, 0.8…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.6354226, 0.6260067, 0.6…\n#> $ `Explained by: Generosity`                   <dbl> 0.36201224, 0.35528049, 0…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.31596383, 0.40077007, 0…\n#> $ `Dystopia (1.85) + residual`                 <dbl> 2.277027, 2.313707, 2.322…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n###### 2016\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2016}\n: Glimpse at WHR 2016 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2016.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 157\n#> Columns: 14\n#> $ Country                                      <chr> \"Denmark\", \"Switzerland\",…\n#> $ `Happiness score`                            <dbl> 7.526, 7.509, 7.501, 7.49…\n#> $ `Whisker-high`                               <dbl> 7.591507, 7.589791, 7.669…\n#> $ `Whisker-low`                                <dbl> 7.460493, 7.428208, 7.332…\n#> $ `Explained by: GDP per capita`               <dbl> 1.441784, 1.527334, 1.426…\n#> $ `Explained by: Social support`               <dbl> 1.1637449, 1.1452365, 1.1…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.7950401, 0.8630291, 0.8…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.5794126, 0.5855718, 0.5…\n#> $ `Explained by: Generosity`                   <dbl> 0.3617096, 0.2808253, 0.4…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.44453219, 0.41203272, 0…\n#> $ `Dystopia (2.33) + residual`                 <dbl> 2.739390, 2.694632, 2.831…\n#> $ ...12                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ ...13                                        <lgl> NA, NA, NA, NA, NA, NA, N…\n#> $ `Figure 2.2: Ranking of Happiness 2013-2015` <lgl> NA, NA, NA, NA, NA, NA, N…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### 2015\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2015}\n: Glimpse at WHR 2015 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2015.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 158\n#> Columns: 29\n#> $ country                                              <chr> \"Switzerland\", \"I…\n#> $ `Ladder score`                                       <dbl> 7.587, 7.561, 7.5…\n#> $ `Regional indicator`                                 <chr> \"Western Europe\",…\n#> $ `WP5 Country`                                        <chr> \"184 Switzerland\"…\n#> $ `Standard error of ladder score`                     <dbl> 0.03411158, 0.048…\n#> $ `Logged GDP per capita`                              <dbl> 10.857283, 10.568…\n#> $ `Social support`                                     <dbl> 0.9531363, 0.9752…\n#> $ `Healthy life expectancy`                            <dbl> 72.73686, 72.9685…\n#> $ `Freedom to make life choices`                       <dbl> 0.9477240, 0.9128…\n#> $ Generosity                                           <dbl> 0.0806921944, 0.2…\n#> $ `Perceptions of corruption`                          <dbl> 0.3014021, 0.7418…\n#> $ `Ladder score in Dystopia`                           <dbl> 2.098976, 2.09897…\n#> $ `Dystopia + residual`                                <dbl> 2.517383, 2.70201…\n#> $ `Explained by: Log GDP per capita`                   <dbl> 1.3965055, 1.3023…\n#> $ `Explained by: Social support`                       <dbl> 1.3495051, 1.4022…\n#> $ `Explained by: Healthy life expectancy`              <dbl> 0.9414323, 0.9478…\n#> $ `Explained by: Freedom to make life choices`         <dbl> 0.6655733, 0.6287…\n#> $ `Explained by: Generosity`                           <dbl> 0.29677528, 0.436…\n#> $ `Explained by: Perceptions of corruption`            <dbl> 0.41977680, 0.141…\n#> $ `Trust in national government`                       <dbl> 0.7589186, 0.3225…\n#> $ `Democratic Quality 2012`                            <dbl> 1.53458786, 1.337…\n#> $ `Delivery Quality 2012`                              <dbl> 1.87642848, 1.521…\n#> $ `Most people can be trusted, Gallup, mostly 2009-10` <dbl> 0.4378819, NA, 0.…\n#> $ `Most people can be trusted, WVS round 1981-1984`    <dbl> NA, NA, NA, NA, N…\n#> $ `Most people can be trusted, WVS round 1989-1993`    <dbl> 0.26525548, NA, N…\n#> $ `Most people can be trusted, WVS round 1994-1998`    <dbl> 0.3784791, NA, NA…\n#> $ `Most people can be trusted, WVS round 1999-2004`    <dbl> NA, NA, NA, NA, 0…\n#> $ `Most people can be trusted, WVS round 2005-2009`    <dbl> 0.51893604, NA, N…\n#> $ `Most people can be trusted, WVS round 2010-2014`    <dbl> NA, NA, NA, NA, N…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n###### 2013\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2013}\n: Glimpse at WHR 2013 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2013.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 155\n#> Columns: 13\n#> $ Country                   <chr> \"Denmark\", \"Norway\", \"Switzerland\", \"Netherl…\n#> $ Ladder                    <dbl> 7.693, 7.655, 7.650, 7.512, 7.480, 7.477, 7.…\n#> $ Region                    <dbl> 0, 0, 0, 0, 0, 7, 0, 0, 0, 7, 8, 6, 7, 8, 6,…\n#> $ `Social support`          <dbl> 0.963, 0.942, 0.943, 0.945, 0.940, 0.942, 0.…\n#> $ Freedom                   <dbl> 0.937, 0.947, 0.918, 0.908, 0.930, 0.932, 0.…\n#> $ Corruption                <dbl> 0.176, 0.421, 0.319, 0.378, 0.226, 0.437, 0.…\n#> $ Donation                  <dbl> 0.629, 0.498, 0.550, 0.728, 0.544, 0.653, 0.…\n#> $ Generosity                <dbl> 0.222, 0.063, 0.129, 0.312, 0.134, 0.247, 0.…\n#> $ `Positive affect`         <dbl> 0.776, 0.823, 0.859, 0.859, 0.834, 0.872, 0.…\n#> $ `Negative affect`         <dbl> 0.179, 0.213, 0.176, 0.205, 0.183, 0.236, 0.…\n#> $ `Happiness (Yesterday)`   <dbl> 0.647, 0.749, 0.907, 0.844, 0.791, 0.911, 0.…\n#> $ `GDP per capita`          <dbl> 32333, 48071, 39476, 36854, 33869, 35294, 31…\n#> $ `Healthy life expectancy` <dbl> 71.228, 72.492, 73.561, 72.338, 74.213, 72.0…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### 2012\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-glimpse-whr-data-2012}\n: Glimpse at WHR 2012 ladder score data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::glimpse(base::readRDS(\"data/whr/rds/WHR_data_2012.rds\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 156\n#> Columns: 5\n#> $ wp5         <chr> \"Denmark\", \"Finland\", \"Norway\", \"Netherlands\", \"Canada\", \"…\n#> $ ladder      <dbl> 7.855740, 7.579009, 7.524001, 7.512336, 7.499089, 7.498953…\n#> $ se          <dbl> 0.0246282, 0.0328375, 0.0468010, 0.0282505, 0.0302413, 0.0…\n#> $ `95% upper` <dbl> 7.904010, 7.643369, 7.615729, 7.567706, 7.558361, 7.575140…\n#> $ `95% CI`    <dbl> 0.048270, 0.064360, 0.091728, 0.055370, 0.059272, 0.076187…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n\n:::\n\n::::\n:::::\n\n## Order of first two columns\n\nInspecting the datasets it turned out that there is some variety in the number of rows (observed countries), number of columns (variables) and column names. I am interested only in the country column and the \"ladder score\" (sometimes \"happiness score\" and in 2012 & 2013 just \"ladder\").\n\nBut for my later functions to create ladder score and ranks time series I need the same order of columns. The concrete name is not important because that can be changed in one line. My preferred order is:\n\n- first column: country (or similar name)\n- second column: ladder (or similar )\n\nInspecting @exm-inspect-whr-data I have to change the column order for \n\n- **2022**: Relocate first column 'RANK' to the end of the columns, as I will create column `rank` myself.\n- **2021 and 2019**: Relocate second column 'Regional indicator' column 'Ladder score'.\n- **2015**: Relocate first column 'WP5 Country' column 'Regional indicator' after column 'Ladder score'.\n- **2013**: Move first column 'Region' after column 'Ladder'.\n\nTo leave the original files untouched but to persevere the same structure of the data object names I will rename those five files and append \"_raw\" at the end of the file name. The new \".rds\" object with the two ordered columns (first = country, second = ladder score) will get the same name structure as the objects presented in the code chunks of @exm-inspect-whr-data (\"WHR_data_\" + year).\n\n:::::{.my-code-collection}\n:::{.my-code-collection-header}\n:::::: {#exm-order-whr-columns}\n: Order columns for several data frames\n::::::\n:::\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### 2022\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-whr-order-columns-2022}\n: Relocate first column 'RANK' after the last column\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nWHR_data_2022_raw <-  base::readRDS(\"data/whr/rds/WHR_data_2022.rds\")\npb_save_data_file(\"whr/rds\", WHR_data_2022_raw, \"WHR_data_2022_raw.rds\")\n\nWHR_data_2022 <- WHR_data_2022_raw |> \n    dplyr::relocate(\"RANK\", .after = last_col())\n\n\ndplyr::glimpse(WHR_data_2022)\npb_save_data_file(\"whr/rds\", WHR_data_2022, \"WHR_data_2022.rds\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 147\n#> Columns: 12\n#> $ Country                                      <chr> \"Finland\", \"Denmark\", \"Ic…\n#> $ `Happiness score`                            <dbl> 7.8210, 7.6362, 7.5575, 7…\n#> $ `Whisker-high`                               <dbl> 7.886425, 7.709897, 7.651…\n#> $ `Whisker-low`                                <dbl> 7.755575, 7.562503, 7.463…\n#> $ `Dystopia (1.83) + residual`                 <dbl> 2.518052, 2.225632, 2.320…\n#> $ `Explained by: GDP per capita`               <dbl> 1.891628, 1.952595, 1.935…\n#> $ `Explained by: Social support`               <dbl> 1.2581084, 1.2426813, 1.3…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.7752064, 0.7766435, 0.8…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.7355902, 0.7189184, 0.7…\n#> $ `Explained by: Generosity`                   <dbl> 0.10873305, 0.18762571, 0…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.53365809, 0.53207892, 0…\n#> $ RANK                                         <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n\n###### 2021\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-whr-order-columns-2021}\n: Order columns for WHR 2021\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nWHR_data_2021_raw <-  base::readRDS(\"data/whr/rds/WHR_data_2021.rds\")\npb_save_data_file(\"whr/rds\", WHR_data_2021_raw, \"WHR_data_2021_raw.rds\")\n\nWHR_data_2021 <- WHR_data_2021_raw |> \n    dplyr::relocate(\"Regional indicator\", .after = \"Ladder score\")\n\ndplyr::glimpse(WHR_data_2021)\npb_save_data_file(\"whr/rds\", WHR_data_2021, \"WHR_data_2021.rds\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 149\n#> Columns: 20\n#> $ `Country name`                               <chr> \"Finland\", \"Denmark\", \"Sw…\n#> $ `Ladder score`                               <dbl> 7.8421, 7.6195, 7.5715, 7…\n#> $ `Regional indicator`                         <chr> \"Western Europe\", \"Wester…\n#> $ `Standard error of ladder score`             <dbl> 0.03164572, 0.03465708, 0…\n#> $ upperwhisker                                 <dbl> 7.904126, 7.687428, 7.642…\n#> $ lowerwhisker                                 <dbl> 7.780075, 7.551572, 7.500…\n#> $ `Logged GDP per capita`                      <dbl> 10.775202, 10.933176, 11.…\n#> $ `Social support`                             <dbl> 0.9536034, 0.9544095, 0.9…\n#> $ `Healthy life expectancy`                    <dbl> 72.00000, 72.69975, 74.40…\n#> $ `Freedom to make life choices`               <dbl> 0.9492679, 0.9456385, 0.9…\n#> $ Generosity                                   <dbl> -0.09776028, 0.03010889, …\n#> $ `Perceptions of corruption`                  <dbl> 0.1858457, 0.1788384, 0.2…\n#> $ `Ladder score in Dystopia`                   <dbl> 2.430343, 2.430343, 2.430…\n#> $ `Explained by: Log GDP per capita`           <dbl> 1.446356, 1.501548, 1.565…\n#> $ `Explained by: Social support`               <dbl> 1.1061915, 1.1080077, 1.0…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.7408238, 0.7628624, 0.8…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.6905766, 0.6861603, 0.6…\n#> $ `Explained by: Generosity`                   <dbl> 0.12420046, 0.20761457, 0…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.48052397, 0.48499268, 0…\n#> $ `Dystopia + residual`                        <dbl> 3.253415, 2.868296, 2.839…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n###### 2019\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-whr-order-columns-2019}\n: Order columns for WHR 2019\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nWHR_data_2019_raw <-  base::readRDS(\"data/whr/rds/WHR_data_2019.rds\")\npb_save_data_file(\"whr/rds\", WHR_data_2019_raw, \"WHR_data_2019_raw.rds\")\n\nWHR_data_2019 <- WHR_data_2019_raw  \n#     dplyr::relocate(\"Regional indicator\", .after = \"Ladder score\")\n\ndplyr::glimpse(WHR_data_2019)\npb_save_data_file(\"whr/rds\", WHR_data_2019, \"WHR_data_2019.rds\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 156\n#> Columns: 11\n#> $ Country                                      <chr> \"Finland\", \"Denmark\", \"No…\n#> $ `Happiness score`                            <dbl> 7.7689, 7.6001, 7.5539, 7…\n#> $ `Whisker-high`                               <dbl> 7.829888, 7.666658, 7.615…\n#> $ `Whisker-low`                                <dbl> 7.707912, 7.533542, 7.492…\n#> $ `Dystopia (1.88) + residual`                 <dbl> 2.713678, 2.392891, 2.240…\n#> $ `Explained by: GDP per capita`               <dbl> 1.340243, 1.383439, 1.487…\n#> $ `Explained by: Social support`               <dbl> 1.587276, 1.572595, 1.581…\n#> $ `Explained by: Healthy life expectancy`      <dbl> 0.9861450, 0.9960189, 1.0…\n#> $ `Explained by: Freedom to make life choices` <dbl> 0.5958953, 0.5923561, 0.6…\n#> $ `Explained by: Generosity`                   <dbl> 0.15270843, 0.25231999, 0…\n#> $ `Explained by: Perceptions of corruption`    <dbl> 0.39291272, 0.41047320, 0…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n###### 2015\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-whr-order-columns-2015}\n: Order columns for WHR 2015\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nWHR_data_2015_raw <-  base::readRDS(\"data/whr/rds/WHR_data_2015.rds\")\npb_save_data_file(\"whr/rds\", WHR_data_2015_raw, \"WHR_data_2015_raw.rds\")\n\n\nWHR_data_2015 <- WHR_data_2015_raw  |> \n    dplyr::relocate(\"WP5 Country\", .after = \"Ladder score\") |> \n    dplyr::relocate(\"Regional indicator\", .after = \"Ladder score\")\n\ndplyr::glimpse(WHR_data_2015)\npb_save_data_file(\"whr/rds\", WHR_data_2015, \"WHR_data_2015.rds\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 158\n#> Columns: 29\n#> $ country                                              <chr> \"Switzerland\", \"I…\n#> $ `Ladder score`                                       <dbl> 7.587, 7.561, 7.5…\n#> $ `Regional indicator`                                 <chr> \"Western Europe\",…\n#> $ `WP5 Country`                                        <chr> \"184 Switzerland\"…\n#> $ `Standard error of ladder score`                     <dbl> 0.03411158, 0.048…\n#> $ `Logged GDP per capita`                              <dbl> 10.857283, 10.568…\n#> $ `Social support`                                     <dbl> 0.9531363, 0.9752…\n#> $ `Healthy life expectancy`                            <dbl> 72.73686, 72.9685…\n#> $ `Freedom to make life choices`                       <dbl> 0.9477240, 0.9128…\n#> $ Generosity                                           <dbl> 0.0806921944, 0.2…\n#> $ `Perceptions of corruption`                          <dbl> 0.3014021, 0.7418…\n#> $ `Ladder score in Dystopia`                           <dbl> 2.098976, 2.09897…\n#> $ `Dystopia + residual`                                <dbl> 2.517383, 2.70201…\n#> $ `Explained by: Log GDP per capita`                   <dbl> 1.3965055, 1.3023…\n#> $ `Explained by: Social support`                       <dbl> 1.3495051, 1.4022…\n#> $ `Explained by: Healthy life expectancy`              <dbl> 0.9414323, 0.9478…\n#> $ `Explained by: Freedom to make life choices`         <dbl> 0.6655733, 0.6287…\n#> $ `Explained by: Generosity`                           <dbl> 0.29677528, 0.436…\n#> $ `Explained by: Perceptions of corruption`            <dbl> 0.41977680, 0.141…\n#> $ `Trust in national government`                       <dbl> 0.7589186, 0.3225…\n#> $ `Democratic Quality 2012`                            <dbl> 1.53458786, 1.337…\n#> $ `Delivery Quality 2012`                              <dbl> 1.87642848, 1.521…\n#> $ `Most people can be trusted, Gallup, mostly 2009-10` <dbl> 0.4378819, NA, 0.…\n#> $ `Most people can be trusted, WVS round 1981-1984`    <dbl> NA, NA, NA, NA, N…\n#> $ `Most people can be trusted, WVS round 1989-1993`    <dbl> 0.26525548, NA, N…\n#> $ `Most people can be trusted, WVS round 1994-1998`    <dbl> 0.3784791, NA, NA…\n#> $ `Most people can be trusted, WVS round 1999-2004`    <dbl> NA, NA, NA, NA, 0…\n#> $ `Most people can be trusted, WVS round 2005-2009`    <dbl> 0.51893604, NA, N…\n#> $ `Most people can be trusted, WVS round 2010-2014`    <dbl> NA, NA, NA, NA, N…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n###### 2013\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-whr-order-columns-2013}\n: Order columns for WHR 2013\n::::::\n:::\n::::{.my-r-code-container}\n\n2013 is the only year where the data are arranged by country and not by descending ladder score. I will therefore change the sorting to get compatibility with the other years.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nWHR_data_2013_raw <-  base::readRDS(\"data/whr/rds/WHR_data_2013.rds\")\npb_save_data_file(\"whr/rds\", WHR_data_2013_raw, \"WHR_data_2013_raw.rds\")\n\nWHR_data_2013 <- WHR_data_2013_raw |> \n    dplyr::relocate(\"Region\", .after = \"Ladder\") |> \n    dplyr::arrange(dplyr::desc(Ladder))\n\ndplyr::glimpse(WHR_data_2013)\npb_save_data_file(\"whr/rds\", WHR_data_2013, \"WHR_data_2013.rds\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Rows: 155\n#> Columns: 13\n#> $ Country                   <chr> \"Denmark\", \"Norway\", \"Switzerland\", \"Netherl…\n#> $ Ladder                    <dbl> 7.693, 7.655, 7.650, 7.512, 7.480, 7.477, 7.…\n#> $ Region                    <dbl> 0, 0, 0, 0, 0, 7, 0, 0, 0, 7, 8, 6, 7, 8, 6,…\n#> $ `Social support`          <dbl> 0.963, 0.942, 0.943, 0.945, 0.940, 0.942, 0.…\n#> $ Freedom                   <dbl> 0.937, 0.947, 0.918, 0.908, 0.930, 0.932, 0.…\n#> $ Corruption                <dbl> 0.176, 0.421, 0.319, 0.378, 0.226, 0.437, 0.…\n#> $ Donation                  <dbl> 0.629, 0.498, 0.550, 0.728, 0.544, 0.653, 0.…\n#> $ Generosity                <dbl> 0.222, 0.063, 0.129, 0.312, 0.134, 0.247, 0.…\n#> $ `Positive affect`         <dbl> 0.776, 0.823, 0.859, 0.859, 0.834, 0.872, 0.…\n#> $ `Negative affect`         <dbl> 0.179, 0.213, 0.176, 0.205, 0.183, 0.236, 0.…\n#> $ `Happiness (Yesterday)`   <dbl> 0.647, 0.749, 0.907, 0.844, 0.791, 0.911, 0.…\n#> $ `GDP per capita`          <dbl> 32333, 48071, 39476, 36854, 33869, 35294, 31…\n#> $ `Healthy life expectancy` <dbl> 71.228, 72.492, 73.561, 72.338, 74.213, 72.0…\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n***\n\n## Create Dataset \n\nFor comparisons I need a dataset with the variables\n\n- Country (`country`)\n- Ladder score for every year (`l_2012`, `l_2013`, …)\n- Rank for every year (`r_2012`, `r_2013`, …)\n\n\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-create-whr-dataset}\n: Create WHR dataset with country, ladder score and rank\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npb_create_ladder_table <- function(year) {\n    string_orig <- base::paste0(\"data/whr/rds/WHR_data_\", year, \".rds\")\n    df_orig <- base::readRDS(string_orig)\n    df_new <- base::paste0(\"WHR_\", year)\n    l_year <- paste0(\"l_\", year)\n    r_year <- paste0(\"r_\", year)\n    \n    df_new <- df_orig |> \n        dplyr::select(1,2) |> \n        dplyr::mutate(r_year = dplyr::row_number()) |> \n        dplyr::rename_with(.fn = ~c(\"country\", l_year, r_year)) |> \n        dplyr::arrange(country)\n}\n\nladder_2024 <- pb_create_ladder_table(2024)\npb_save_data_file(\"whr/analysis\", ladder_2024, \"WHR_ladder_2024.rds\")\n\nladder_2023 <- pb_create_ladder_table(2023)\npb_save_data_file(\"whr/analysis\", ladder_2023, \"WHR_ladder_2023.rds\")\n\nladder_2022 <- pb_create_ladder_table(2022)\npb_save_data_file(\"whr/analysis\", ladder_2022, \"WHR_ladder_2022.rds\")\n\nladder_2021 <- pb_create_ladder_table(2021)\npb_save_data_file(\"whr/analysis\", ladder_2021, \"WHR_ladder_2021.rds\")\n\nladder_2019 <- pb_create_ladder_table(2019)\npb_save_data_file(\"whr/analysis\", ladder_2019, \"WHR_ladder_2019.rds\")\n\nladder_2019 <- pb_create_ladder_table(2019)\npb_save_data_file(\"whr/analysis\", ladder_2019, \"WHR_ladder_2019.rds\")\n\nladder_2017 <- pb_create_ladder_table(2017)\npb_save_data_file(\"whr/analysis\", ladder_2017, \"WHR_ladder_2017.rds\")\n\nladder_2017 <- pb_create_ladder_table(2017)\npb_save_data_file(\"whr/analysis\", ladder_2017, \"WHR_ladder_2017.rds\")\n\nladder_2015 <- pb_create_ladder_table(2015)\npb_save_data_file(\"whr/analysis\", ladder_2015, \"WHR_ladder_2015.rds\")\n\nladder_2015 <- pb_create_ladder_table(2015)\npb_save_data_file(\"whr/analysis\", ladder_2015, \"WHR_ladder_2015.rds\")\n\nladder_2013 <- pb_create_ladder_table(2013)\npb_save_data_file(\"whr/analysis\", ladder_2013, \"WHR_ladder_2013.rds\")\n\nladder_2012 <- pb_create_ladder_table(2012)\npb_save_data_file(\"whr/analysis\", ladder_2012, \"WHR_ladder_2012.rds\")\n```\n:::\n\n\n\n\n\n\n::::\n:::::\n\n## Join ladder data\n\nWe have now prepared the data for every year separately and can now join them to a single tibble.\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-join-ladder-data-raw}\n: Join ladder data from all years\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwhr_join_raw <- dplyr::full_join(ladder_2024, ladder_2023, by = \"country\") |> \n    dplyr::full_join(ladder_2022, by = \"country\") |> \n    dplyr::full_join(ladder_2021, by = \"country\") |> \n    dplyr::full_join(ladder_2019, by = \"country\") |> \n    dplyr::full_join(ladder_2019, by = \"country\") |> \n    dplyr::full_join(ladder_2017, by = \"country\") |> \n    dplyr::full_join(ladder_2017, by = \"country\") |> \n    dplyr::full_join(ladder_2015, by = \"country\") |> \n    dplyr::full_join(ladder_2015, by = \"country\") |> \n    dplyr::full_join(ladder_2013, by = \"country\") |> \n    dplyr::full_join(ladder_2012, by = \"country\")\n\n\npb_save_data_file(\"whr/analysis\", whr_join_raw, \"whr_join_raw.rds\")\n\nwhr_join_raw1 <- dplyr::full_join(ladder_2024, ladder_2023, by = \"country\")\n```\n:::\n\n\n\n\n\n\n::::\n:::::\n\n## TEST CHUNKS\n\n<a class='glossary' title='Comprehensive R Archive Network (CRAN) is a network of ftp and web servers around the world that store identical, up-to-date, versions of code and documentation for R. Please use the CRAN mirror nearest to you to minimize network load. cran.r-project.org'>CRAN</a>\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-prepare-test-figures}\n: Numbered R Code Titled\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwhr_join_raw <-  base::readRDS(\"data/whr/analysis/whr_join_raw.rds\")\n\ndf_ladder <- whr_join_raw |> \n    dplyr::select(c(1, dplyr::starts_with(\"l_\"))) |> \n    dplyr::filter(country %in% c(\n        \"Austria\", \n        \"Germany\",\n        \"United Kingdom\",\n        \"United States\",\n        \"Finland\"\n        )) |>\n    tidyr::pivot_longer(cols = c(l_2024:l_2012), \n                         names_to = \"year\", \n                         values_to = \"score\")\n\np1 <- ggplot2::ggplot(df_ladder, ggplot2::aes(\n        x = year , \n        y = score, \n        color = country,\n        group = country)) +\n    ggplot2::geom_line() \n\np1\n\n\ndf_rank <- whr_join_raw |> \n    dplyr::select(c(1, dplyr::starts_with(\"r_\"))) |> \n    dplyr::filter(country %in% c(\"Austria\", \n                                 \"Germany\", \n                                 \"United Kingdom\",\n                                 \"United States\",\n                                 \"Finland\")) |>\n    tidyr::pivot_longer(cols = c(r_2024:r_2012), \n                         names_to = \"year\", \n                         values_to = \"rank\")\n\np2 <- ggplot2::ggplot(df_rank, ggplot2::aes(\n        x = year , \n        y = rank, \n        color = country,\n        group = country)) +\n    ggplot2::geom_line() \n\np2\n```\n:::\n\n\n\n\n\n\n***\n\n**Run the code just once manually**. It will download country classification data from the [World Bank webpage: \"How does the World Bank classify countries?\"](https://datahelpdesk.worldbank.org/knowledgebase/articles/378834-how-does-the-world-bank-classify-countries)\n\n::::\n:::::\n\n\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-get-country-names}\n: Numbered R Code Title\n::::::\n:::\n::::{.my-r-code-container}\n::: {#lst-chaplisting-ID}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwhr_join_raw <-  base::readRDS(\"data/whr/analysis/whr_join_raw.rds\")\ncountry_class <-  base::readRDS(\"data/countries/country_class.rds\") |> \n    # dplyr::rename(country = Economy) |> \n    dplyr::slice_head(n = 218)\n\n\nwhr_country_raw <- dplyr::full_join(\n    whr_join_raw,\n    country_class,\n    dplyr::join_by(country == Economy)\n)\n```\n:::\n\n\n\n\n\nListing title\n:::\n\n::::\n:::::\n\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-whr-countries}\n: Numbered R Code Title\n::::::\n:::\n::::{.my-r-code-container}\n::: {#lst-chaplisting-ID}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nWHR_names_2022 <-  base::readRDS(\"data/whr/rds/WHR_data_2022.rds\") |> \n    dplyr::select(1:2) |> \n    rlang::set_names(\"country\", \"s_2022\") |> \n    dplyr::mutate(country = gsub(\"\\\\*\", \"\", country)) |> \n    dplyr::slice_head(n = 146) |> \n    dplyr::arrange(country)\n```\n:::\n\n\n\n\n\nListing title\n:::\n\n::::\n:::::\n\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names}\n: Numbered R Code Title\n::::::\n:::\n::::{.my-r-code-container}\n::: {#lst-chaplisting-ID}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nWHR_names_2024 <- base::readRDS(\"data/whr/rds/WHR_data_2024.rds\") |> \n    dplyr::select(1:2) |> \n    rlang::set_names(c(\"country\", \"s_2024\")) |> \n    dplyr::arrange(country)\n\nWHR_names_2023 <- base::readRDS(\"data/whr/rds/WHR_data_2023.rds\") |> \n    dplyr::select(1:2) |> \n    rlang::set_names(c(\"country\", \"s_2023\")) |> \n    dplyr::arrange(country)\n\nWHR_names_24_23 <- dplyr::full_join(\n    WHR_names_2024,\n    WHR_names_2023,\n    by = dplyr::join_by(country)\n    )\n\nWHR_names_24_22 <- dplyr::full_join(\n    WHR_names_24_23,\n    WHR_names_2022,\n    by = dplyr::join_by(country)\n    )\n```\n:::\n\n\n\n\n\nListing title\n:::\n\n::::\n:::::\n\n## 2024\n\n\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names}\n: Clean WHR Country Names --- 2024\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Get file\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-country-names}\n: Get file for official country names\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npb_create_folder(base::paste0(here::here(), \"/data/\"))\npb_create_folder(base::paste0(here::here(), \"/data/countries\"))\n\n\ndownloader::download(\n    url = \"https://datacatalogfiles.worldbank.org/ddh-published/0037712/DR0090755/CLASS.xlsx\",\n    destfile = base::paste0(here::here(), \"/data/countries/country-class_world_bank.xlsx\")\n)\ncountry_class <- readxl::read_xlsx(base::paste0(here::here(), \"/data/countries/country-class_world_bank.xlsx\")) \npb_save_data_file(\"countries\", country_class, \"country_class.rds\")\n\ncountry_only <-  country_class |> \n    dplyr::select(Economy) |> \n    dplyr::rename(Country = Economy) |> \n    dplyr::slice_head(n = 218)\npb_save_data_file(\"countries\", country_only, \"country_only.rds\")\n```\n:::\n\n\n\n\n\n(*For this R code chunk is no output available*)\n\n::::\n:::::\n\n\n###### Country names 2024\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-country-names-2024}\n: Country Names 2024\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-3cfd0c1ce6b0e76921b5\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-3cfd0c1ce6b0e76921b5\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2024}\n: Before cleaning 2024\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2024 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2024.rds\") |> \n    dplyr::select(1)\n\ncountry_2024 <- dplyr::full_join(\n    country_names,\n    names_2024,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2024\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 17 × 1\n#>    Country                  \n#>    <chr>                    \n#>  1 Congo (Brazzaville)      \n#>  2 Congo (Kinshasa)         \n#>  3 Egypt                    \n#>  4 Gambia                   \n#>  5 Hong Kong S.A.R. of China\n#>  6 Iran                     \n#>  7 Ivory Coast              \n#>  8 Kyrgyzstan               \n#>  9 Laos                     \n#> 10 Russia                   \n#> 11 Slovakia                 \n#> 12 South Korea              \n#> 13 State of Palestine       \n#> 14 Taiwan Province of China \n#> 15 Turkiye                  \n#> 16 Venezuela                \n#> 17 Yemen\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2024}\n: Cleaning 2024\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2024_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2024.rds\") |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R. of China\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo (Brazzaville)\" ~ \"Congo, Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkiye\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"State of Palestine\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Yemen\" ~\"Yemen, Rep.\",\n        country == \"Congo (Kinshasa)\" ~ \"Congo, Dem. Rep.\",\n        TRUE ~ country))\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2024}\n: After cleaning 2024\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2024_countries <- names_2024_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2024_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n\n\n## 2023\n\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names-2023}\n: Clean WHR Country Names --- 2023\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Country names\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names-2023}\n: Country names for 2023\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-4232c4bc85602c543404\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-4232c4bc85602c543404\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2023}\n: Before cleaning 2023\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2023 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2023.rds\") |> \n    dplyr::select(1)\n\ncountry_2023 <- dplyr::full_join(\n    country_names,\n    names_2023,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2023\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 16 × 1\n#>    Country                  \n#>    <chr>                    \n#>  1 Congo (Brazzaville)      \n#>  2 Congo (Kinshasa)         \n#>  3 Egypt                    \n#>  4 Gambia                   \n#>  5 Hong Kong S.A.R. of China\n#>  6 Iran                     \n#>  7 Ivory Coast              \n#>  8 Kyrgyzstan               \n#>  9 Laos                     \n#> 10 Russia                   \n#> 11 Slovakia                 \n#> 12 South Korea              \n#> 13 State of Palestine       \n#> 14 Taiwan Province of China \n#> 15 Turkiye                  \n#> 16 Venezuela\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2023}\n: Cleaning of WHR country data 2023\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2023_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2023.rds\") |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R. of China\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo (Brazzaville)\" ~ \"Congo, Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkiye\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"State of Palestine\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Congo (Kinshasa)\" ~ \"Congo, Dem. Rep.\",\n        TRUE ~ country))\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2023}\n: After cleaning 2023\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2023_countries <- names_2023_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2023_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n\n## 2022\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names-2022}\n: Clean WHR Country Names --- 2022\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Country names\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names-2022}\n: Country names for 2022\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-e8637d2a64048929685e\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e8637d2a64048929685e\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2022}\n: Before cleaning 2022\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(pillar.print_max = Inf)\n\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2022 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2022.rds\") |> \n    dplyr::select(1)\n\ncountry_2022 <- dplyr::full_join(\n    country_names,\n    names_2022,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2022\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 35 × 1\n#>    Country                  \n#>    <chr>                    \n#>  1 Azerbaijan*              \n#>  2 Belarus*                 \n#>  3 Botswana*                \n#>  4 Chad*                    \n#>  5 Comoros*                 \n#>  6 Congo                    \n#>  7 Egypt                    \n#>  8 Eswatini, Kingdom of*    \n#>  9 Gambia*                  \n#> 10 Guatemala*               \n#> 11 Hong Kong S.A.R. of China\n#> 12 Iran                     \n#> 13 Ivory Coast              \n#> 14 Kuwait*                  \n#> 15 Kyrgyzstan               \n#> 16 Laos                     \n#> 17 Lesotho*                 \n#> 18 Liberia*                 \n#> 19 Libya*                   \n#> 20 Luxembourg*              \n#> 21 Madagascar*              \n#> 22 Mauritania*              \n#> 23 Niger*                   \n#> 24 North Cyprus*            \n#> 25 Palestinian Territories* \n#> 26 Russia                   \n#> 27 Rwanda*                  \n#> 28 Slovakia                 \n#> 29 South Korea              \n#> 30 Taiwan Province of China \n#> 31 Turkey                   \n#> 32 Turkmenistan*            \n#> 33 Venezuela                \n#> 34 Yemen*                   \n#> 35 xx\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2022}\n: Cleaning of WHR country data 2022\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2022_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2022.rds\") |> \n    dplyr::mutate(country = gsub(\"\\\\*\", \"\", country)) |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R. of China\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo\" ~ \"Congo, Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkey\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"Palestinian Territories\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Eswatini, Kingdom of\" ~ \"Eswatini\",\n        country == \"Yemen\" ~\"Yemen, Rep.\",\n        TRUE ~ country)) |> \n    # dplyr::filter(country != \"xx\" & country != \"North Cyprus\")  # difficult to understand\n    dplyr::filter(!(country == \"xx\" | country == \"North Cyprus\")) # easier to understand\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2022}\n: After cleaning 2022\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2022_countries <- names_2022_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2022_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n## 2021\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names-2021}\n: Clean WHR Country Names --- 2021\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Country names\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names-2021}\n: Country names for 2021\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-0fe3e3b040aa52fe8a07\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-0fe3e3b040aa52fe8a07\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2021}\n: Before cleaning 2021\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(pillar.print_max = Inf)\n\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2021 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2021.rds\") |> \n    dplyr::select(1)\n\ncountry_2021 <- dplyr::full_join(\n    country_names,\n    names_2021,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2021\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 19 × 1\n#>    Country                  \n#>    <chr>                    \n#>  1 Congo (Brazzaville)      \n#>  2 Czech Republic           \n#>  3 Egypt                    \n#>  4 Gambia                   \n#>  5 Hong Kong S.A.R. of China\n#>  6 Iran                     \n#>  7 Ivory Coast              \n#>  8 Kyrgyzstan               \n#>  9 Laos                     \n#> 10 North Cyprus             \n#> 11 Palestinian Territories  \n#> 12 Russia                   \n#> 13 Slovakia                 \n#> 14 South Korea              \n#> 15 Swaziland                \n#> 16 Taiwan Province of China \n#> 17 Turkey                   \n#> 18 Venezuela                \n#> 19 Yemen\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2021}\n: Cleaning of WHR country data 2021\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2021_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2021.rds\") |> \n    dplyr::mutate(country = gsub(\"\\\\*\", \"\", country)) |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Czech Republic\" ~\"Czechia\",\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R. of China\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo (Brazzaville)\" ~ \"Congo, Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkey\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"Palestinian Territories\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Swaziland\" ~ \"Eswatini\",\n        country == \"Yemen\" ~\"Yemen, Rep.\",\n        TRUE ~ country)) |> \n    dplyr::filter(country != \"North Cyprus\")\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2021}\n: After cleaning 2021\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2021_countries <- names_2021_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2021_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n## 2020\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names-2020}\n: Clean WHR Country Names --- 2020\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Country names\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names-2020}\n: Country names for 2020\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-349d9511856eb013a7c4\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-349d9511856eb013a7c4\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2020}\n: Before cleaning 2020\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(pillar.print_max = Inf)\n\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2020 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2020.rds\") |> \n    dplyr::select(1)\n\ncountry_2020 <- dplyr::full_join(\n    country_names,\n    names_2020,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2020\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 21 × 1\n#>    Country                  \n#>    <chr>                    \n#>  1 Congo (Brazzaville)      \n#>  2 Congo (Kinshasa)         \n#>  3 Czech Republic           \n#>  4 Egypt                    \n#>  5 Gambia                   \n#>  6 Hong Kong S.A.R. of China\n#>  7 Iran                     \n#>  8 Ivory Coast              \n#>  9 Kyrgyzstan               \n#> 10 Laos                     \n#> 11 Macedonia                \n#> 12 North Cyprus             \n#> 13 Palestinian Territories  \n#> 14 Russia                   \n#> 15 Slovakia                 \n#> 16 South Korea              \n#> 17 Swaziland                \n#> 18 Taiwan Province of China \n#> 19 Turkey                   \n#> 20 Venezuela                \n#> 21 Yemen\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2020}\n: Cleaning of WHR country data 2020\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2020_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2020.rds\") |> \n    dplyr::mutate(country = gsub(\"\\\\*\", \"\", country)) |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Czech Republic\" ~\"Czechia\",\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R. of China\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo (Brazzaville)\" ~ \"Congo, Rep.\",\n        country == \"Congo (Kinshasa)\" ~ \"Congo, Dem. Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkey\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"Palestinian Territories\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Swaziland\" ~ \"Eswatini\",\n        country == \"Yemen\" ~\"Yemen, Rep.\",\n        country == \"Macedonia\" ~ \"North Macedonia\",\n        TRUE ~ country)) |> \n    dplyr::filter(country != \"North Cyprus\")\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2020}\n: After cleaning 2020\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2020_countries <- names_2020_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2020_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n## 2019\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names-2019}\n: Clean WHR Country Names --- 2019\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Country names\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names-2019}\n: Country names for 2019\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-9ec63589df9238f8f16b\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-9ec63589df9238f8f16b\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2019}\n: Before cleaning 2019\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(pillar.print_max = Inf)\n\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2019 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2019.rds\") |> \n    dplyr::select(1)\n\ncountry_2019 <- dplyr::full_join(\n    country_names,\n    names_2019,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2019\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 22 × 1\n#>    Country                  \n#>    <chr>                    \n#>  1 Congo (Brazzaville)      \n#>  2 Congo (Kinshasa)         \n#>  3 Czech Republic           \n#>  4 Egypt                    \n#>  5 Gambia                   \n#>  6 Hong Kong S.A.R. of China\n#>  7 Iran                     \n#>  8 Ivory Coast              \n#>  9 Kyrgyzstan               \n#> 10 Laos                     \n#> 11 Macedonia                \n#> 12 North Cyprus             \n#> 13 Palestinian Territories  \n#> 14 Russia                   \n#> 15 Slovakia                 \n#> 16 South Korea              \n#> 17 Swaziland                \n#> 18 Syria                    \n#> 19 Taiwan Province of China \n#> 20 Turkey                   \n#> 21 Venezuela                \n#> 22 Yemen\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2019}\n: Cleaning of WHR country data 2019\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2019_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2019.rds\") |> \n    dplyr::mutate(country = gsub(\"\\\\*\", \"\", country)) |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Czech Republic\" ~\"Czechia\",\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R. of China\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo (Brazzaville)\" ~ \"Congo, Rep.\",\n        country == \"Congo (Kinshasa)\" ~ \"Congo, Dem. Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkey\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"Palestinian Territories\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Swaziland\" ~ \"Eswatini\",\n        country == \"Yemen\" ~\"Yemen, Rep.\",\n        country == \"Macedonia\" ~ \"North Macedonia\",\n        country == \"Syria\" ~ \"Syrian Arab Republic\",\n        TRUE ~ country)) |> \n    dplyr::filter(country != \"North Cyprus\")\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2019}\n: After cleaning 2019\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2019_countries <- names_2019_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2019_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n## 2018\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names-2018}\n: Clean WHR Country Names --- 2018\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Country names\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names-2018}\n: Country names for 2018\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-7056c71f543f1cb672f0\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-7056c71f543f1cb672f0\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2018}\n: Before cleaning 2018\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(pillar.print_max = Inf)\n\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2018 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2018.rds\") |> \n    dplyr::select(1)\n\ncountry_2018 <- dplyr::full_join(\n    country_names,\n    names_2018,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2018\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 21 × 1\n#>    Country                 \n#>    <chr>                   \n#>  1 Congo (Brazzaville)     \n#>  2 Congo (Kinshasa)        \n#>  3 Czech Republic          \n#>  4 Egypt                   \n#>  5 Iran                    \n#>  6 Ivory Coast             \n#>  7 Kyrgyzstan              \n#>  8 Laos                    \n#>  9 Macedonia               \n#> 10 Northern Cyprus         \n#> 11 Palestinian Territories \n#> 12 Russia                  \n#> 13 Slovakia                \n#> 14 South Korea             \n#> 15 Syria                   \n#> 16 Taiwan Province of China\n#> 17 Trinidad & Tobago       \n#> 18 Turkey                  \n#> 19 Venezuela               \n#> 20 Yemen                   \n#> 21 <NA>\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2018}\n: Cleaning of WHR country data 2018\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2018_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2018.rds\") |> \n    dplyr::mutate(country = gsub(\"\\\\*\", \"\", country)) |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Czech Republic\" ~\"Czechia\",\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R. of China\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo (Brazzaville)\" ~ \"Congo, Rep.\",\n        country == \"Congo (Kinshasa)\" ~ \"Congo, Dem. Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkey\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"Palestinian Territories\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Swaziland\" ~ \"Eswatini\",\n        country == \"Yemen\" ~\"Yemen, Rep.\",\n        country == \"Macedonia\" ~ \"North Macedonia\",\n        country == \"Syria\" ~ \"Syrian Arab Republic\",\n        country == \"Trinidad & Tobago\" ~ \"Trinidad and Tobago\",\n        TRUE ~ country)) |> \n    dplyr::filter(country != \"Northern Cyprus\")\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2018}\n: After cleaning 2018\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2018_countries <- names_2018_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2018_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n## 2017\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names-2017}\n: Clean WHR Country Names --- 2017\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Country names\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names-2017}\n: Country names for 2017\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-8f17d270ffccb7bd246a\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-8f17d270ffccb7bd246a\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2017}\n: Before cleaning 2017\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(pillar.print_max = Inf)\n\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2017 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2017.rds\") |> \n    dplyr::select(1)\n\ncountry_2017 <- dplyr::full_join(\n    country_names,\n    names_2017,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2017\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 19 × 1\n#>    Country                 \n#>    <chr>                   \n#>  1 Congo (Brazzaville)     \n#>  2 Congo (Kinshasa)        \n#>  3 Czech Republic          \n#>  4 Egypt                   \n#>  5 Hong Kong S.A.R., China \n#>  6 Iran                    \n#>  7 Ivory Coast             \n#>  8 Kyrgyzstan              \n#>  9 Macedonia               \n#> 10 North Cyprus            \n#> 11 Palestinian Territories \n#> 12 Russia                  \n#> 13 Slovakia                \n#> 14 South Korea             \n#> 15 Syria                   \n#> 16 Taiwan Province of China\n#> 17 Turkey                  \n#> 18 Venezuela               \n#> 19 Yemen\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2017}\n: Cleaning of WHR country data 2017\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2017_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2017.rds\") |> \n    dplyr::mutate(country = gsub(\"\\\\*\", \"\", country)) |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Czech Republic\" ~\"Czechia\",\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R., China\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo (Brazzaville)\" ~ \"Congo, Rep.\",\n        country == \"Congo (Kinshasa)\" ~ \"Congo, Dem. Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkey\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"Palestinian Territories\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Swaziland\" ~ \"Eswatini\",\n        country == \"Yemen\" ~\"Yemen, Rep.\",\n        country == \"Macedonia\" ~ \"North Macedonia\",\n        country == \"Syria\" ~ \"Syrian Arab Republic\",\n        country == \"Trinidad & Tobago\" ~ \"Trinidad and Tobago\",\n        TRUE ~ country)) |> \n    dplyr::filter(country != \"North Cyprus\")\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2017}\n: After cleaning 2017\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2017_countries <- names_2017_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2017_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n## 2016\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names-2016}\n: Clean WHR Country Names --- 2016\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Country names\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names-2016}\n: Country names for 2016\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-7993f2421612e94c48c8\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-7993f2421612e94c48c8\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2016}\n: Before cleaning 2016\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(pillar.print_max = Inf)\n\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2016 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2016.rds\") |> \n    dplyr::select(1)\n\ncountry_2016 <- dplyr::full_join(\n    country_names,\n    names_2016,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2016\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 21 × 1\n#>    Country                \n#>    <chr>                  \n#>  1 Congo (Brazzaville)    \n#>  2 Congo (Kinshasa)       \n#>  3 Czech Republic         \n#>  4 Egypt                  \n#>  5 Hong Kong              \n#>  6 Iran                   \n#>  7 Ivory Coast            \n#>  8 Kyrgyzstan             \n#>  9 Laos                   \n#> 10 Macedonia              \n#> 11 North Cyprus           \n#> 12 Palestinian Territories\n#> 13 Russia                 \n#> 14 Slovakia               \n#> 15 Somaliland region      \n#> 16 South Korea            \n#> 17 Syria                  \n#> 18 Taiwan                 \n#> 19 Turkey                 \n#> 20 Venezuela              \n#> 21 Yemen\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2016}\n: Cleaning of WHR country data 2016\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2016_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2016.rds\") |> \n    dplyr::mutate(country = gsub(\"\\\\*\", \"\", country)) |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Czech Republic\" ~\"Czechia\",\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Taiwan\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R., China\" ~ \"Hong Kong SAR, China\",\n        country == \"Hong Kong\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo (Brazzaville)\" ~ \"Congo, Rep.\",\n        country == \"Congo (Kinshasa)\" ~ \"Congo, Dem. Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkey\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"Palestinian Territories\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Swaziland\" ~ \"Eswatini\",\n        country == \"Yemen\" ~\"Yemen, Rep.\",\n        country == \"Macedonia\" ~ \"North Macedonia\",\n        country == \"Syria\" ~ \"Syrian Arab Republic\",\n        country == \"Trinidad & Tobago\" ~ \"Trinidad and Tobago\",\n        country == \"Somaliland region\" ~ \"Somalia\",\n        TRUE ~ country)) |> \n    dplyr::filter(country != \"North Cyprus\")\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2016}\n: After cleaning 2016\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2016_countries <- names_2016_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2016_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n## 2015\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names-2015}\n: Clean WHR Country Names --- 2015\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Country names\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names-2015}\n: Country names for 2015\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-cabc4e8ab6d7eaffc17f\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-cabc4e8ab6d7eaffc17f\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2015}\n: Before cleaning 2015\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(pillar.print_max = Inf)\n\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2015 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2015.rds\") |> \n    dplyr::select(1)\n\ncountry_2015 <- dplyr::full_join(\n    country_names,\n    names_2015,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2015\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 22 × 1\n#>    Country                \n#>    <chr>                  \n#>  1 Congo (Brazzaville)    \n#>  2 Congo (Kinshasa)       \n#>  3 Czech Republic         \n#>  4 Egypt                  \n#>  5 Hong Kong              \n#>  6 Iran                   \n#>  7 Ivory Coast            \n#>  8 Kyrgyzstan             \n#>  9 Laos                   \n#> 10 Macedonia              \n#> 11 North Cyprus           \n#> 12 Palestinian Territories\n#> 13 Russia                 \n#> 14 Slovakia               \n#> 15 Somaliland region      \n#> 16 South Korea            \n#> 17 Swaziland              \n#> 18 Syria                  \n#> 19 Taiwan                 \n#> 20 Turkey                 \n#> 21 Venezuela              \n#> 22 Yemen\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2015}\n: Cleaning of WHR country data 2015\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2015_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2015.rds\") |> \n    dplyr::mutate(country = gsub(\"\\\\*\", \"\", country)) |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Czech Republic\" ~\"Czechia\",\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Taiwan\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R., China\" ~ \"Hong Kong SAR, China\",\n        country == \"Hong Kong\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo (Brazzaville)\" ~ \"Congo, Rep.\",\n        country == \"Congo (Kinshasa)\" ~ \"Congo, Dem. Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkey\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"Palestinian Territories\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Swaziland\" ~ \"Eswatini\",\n        country == \"Yemen\" ~\"Yemen, Rep.\",\n        country == \"Macedonia\" ~ \"North Macedonia\",\n        country == \"Syria\" ~ \"Syrian Arab Republic\",\n        country == \"Trinidad & Tobago\" ~ \"Trinidad and Tobago\",\n        country == \"Somaliland region\" ~ \"Somalia\",\n        TRUE ~ country)) |> \n    dplyr::filter(country != \"North Cyprus\")\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2015}\n: After cleaning 2015\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2015_countries <- names_2015_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2015_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n## 2013\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names-2013}\n: Clean WHR Country Names --- 2013\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Country names\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names-2013}\n: Country names for 2013\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-45e88abdff5c1db0585f\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-45e88abdff5c1db0585f\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2013}\n: Before cleaning 2013\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(pillar.print_max = Inf)\n\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2013 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2013.rds\") |> \n    dplyr::select(1)\n\ncountry_2013 <- dplyr::full_join(\n    country_names,\n    names_2013,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2013\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 21 × 1\n#>    Country            \n#>    <chr>              \n#>  1 Congo (Brazzaville)\n#>  2 Congo (Kinshasa)   \n#>  3 Czech Republic     \n#>  4 Egypt              \n#>  5 Hong Kong          \n#>  6 Iran               \n#>  7 Kyrgyzstan         \n#>  8 Laos               \n#>  9 Macedonia          \n#> 10 North Cyprus       \n#> 11 Palestine          \n#> 12 Russia             \n#> 13 Slovakia           \n#> 14 Somaliland         \n#> 15 South Korea        \n#> 16 Swaziland          \n#> 17 Syria              \n#> 18 Taiwan             \n#> 19 Turkey             \n#> 20 Venezuela          \n#> 21 Yemen\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2013}\n: Cleaning of WHR country data 2013\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2013_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2013.rds\") |> \n    dplyr::mutate(country = gsub(\"\\\\*\", \"\", country)) |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Czech Republic\" ~\"Czechia\",\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Taiwan\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R., China\" ~ \"Hong Kong SAR, China\",\n        country == \"Hong Kong\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo (Brazzaville)\" ~ \"Congo, Rep.\",\n        country == \"Congo (Kinshasa)\" ~ \"Congo, Dem. Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkey\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"Palestinian Territories\" ~ \"West Bank and Gaza\",\n        country == \"Palestine\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Swaziland\" ~ \"Eswatini\",\n        country == \"Yemen\" ~\"Yemen, Rep.\",\n        country == \"Macedonia\" ~ \"North Macedonia\",\n        country == \"Syria\" ~ \"Syrian Arab Republic\",\n        country == \"Trinidad & Tobago\" ~ \"Trinidad and Tobago\",\n        country == \"Somaliland\" ~ \"Somalia\",\n        TRUE ~ country)) |> \n    dplyr::filter(country != \"North Cyprus\")\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2013}\n: After cleaning 2013\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2013_countries <- names_2013_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2013_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n\n## 2012\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n:::::: {#exm-clean-country-names-2012}\n: Clean WHR Country Names --- 2012\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### Country names\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-clean-country-names-2012}\n: Country names for 2012\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDT::datatable(base::readRDS(\"data/countries/country_only.rds\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-0cacac6e23c7b0358550\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-0cacac6e23c7b0358550\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\"],[\"Afghanistan\",\"Albania\",\"Algeria\",\"American Samoa\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas, The\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\",\"Brunei Darussalam\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cayman Islands\",\"Central African Republic\",\"Chad\",\"Channel Islands\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Costa Rica\",\"Côte d’Ivoire\",\"Croatia\",\"Cuba\",\"Curaçao\",\"Cyprus\",\"Czechia\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt, Arab Rep.\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"Gabon\",\"Gambia, The\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong SAR, China\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran, Islamic Rep.\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Korea, Dem. People's Rep.\",\"Korea, Rep.\",\"Kosovo\",\"Kuwait\",\"Kyrgyz Republic\",\"Lao PDR\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macao SAR, China\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia, Fed. Sts.\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Caledonia\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Northern Mariana Islands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Puerto Rico\",\"Qatar\",\"Romania\",\"Russian Federation\",\"Rwanda\",\"Samoa\",\"San Marino\",\"São Tomé and Príncipe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Sint Maarten (Dutch part)\",\"Slovak Republic\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"St. Kitts and Nevis\",\"St. Lucia\",\"St. Martin (French part)\",\"St. Vincent and the Grenadines\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syrian Arab Republic\",\"Taiwan, China\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Türkiye\",\"Turkmenistan\",\"Turks and Caicos Islands\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela, RB\",\"Vietnam\",\"Virgin Islands (U.S.)\",\"West Bank and Gaza\",\"Yemen, Rep.\",\"Zambia\",\"Zimbabwe\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Country<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Country\",\"targets\":1}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n::::\n:::::\n\n\n###### Before cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-before-cleaning-2012}\n: Before cleaning 2012\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(pillar.print_max = Inf)\n\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2012 <- base::readRDS(\"data/whr/analysis/WHR_ladder_2012.rds\") |> \n    dplyr::select(1)\n\ncountry_2012 <- dplyr::full_join(\n    country_names,\n    names_2012,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\ncountry_2012\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 21 × 1\n#>    Country                \n#>    <chr>                  \n#>  1 Congo (Brazzaville)    \n#>  2 Congo (Kinshasa)       \n#>  3 Czech Republic         \n#>  4 Egypt                  \n#>  5 Hong Kong              \n#>  6 Iran                   \n#>  7 Ivory Coast            \n#>  8 Kyrgyzstan             \n#>  9 Laos                   \n#> 10 Macedonia              \n#> 11 Palestinian Territories\n#> 12 Russia                 \n#> 13 Slovakia               \n#> 14 Somaliland Region      \n#> 15 South Korea            \n#> 16 Syria                  \n#> 17 Taiwan                 \n#> 18 Trinidad & Tobago      \n#> 19 Turkey                 \n#> 20 Venezuela              \n#> 21 Yemen\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n\n###### Cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-cleaning-2012}\n: Cleaning of WHR country data 2012\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nnames_2012_clean <- base::readRDS(\"data/whr/analysis/WHR_ladder_2012.rds\") |> \n    dplyr::mutate(country = gsub(\"\\\\*\", \"\", country)) |> \n    dplyr::mutate(country = dplyr::case_when(\n        country == \"Czech Republic\" ~\"Czechia\",\n        country == \"Taiwan Province of China\" ~\"Taiwan, China\",\n        country == \"Taiwan\" ~\"Taiwan, China\",\n        country == \"Slovakia\" ~ \"Slovak Republic\",\n        country == \"South Korea\" ~ \"Korea, Rep.\",\n        country == \"Russia\" ~\"Russian Federation\",\n        country == \"Kyrgyzstan\" ~ \"Kyrgyz Republic\",\n        country == \"Venezuela\" ~ \"Venezuela, RB\",\n        country == \"Hong Kong S.A.R., China\" ~ \"Hong Kong SAR, China\",\n        country == \"Hong Kong\" ~ \"Hong Kong SAR, China\",\n        country == \"Congo (Brazzaville)\" ~ \"Congo, Rep.\",\n        country == \"Congo (Kinshasa)\" ~ \"Congo, Dem. Rep.\",\n        country == \"Laos\" ~ \"Lao PDR\",\n        country == \"Ivory Coast\" ~\"Côte d’Ivoire\",\n        country == \"Turkey\" ~ \"Türkiye\",\n        country == \"Iran\" ~ \"Iran, Islamic Rep.\",\n        country == \"Palestinian Territories\" ~ \"West Bank and Gaza\",\n        country == \"Palestine\" ~ \"West Bank and Gaza\",\n        country == \"Gambia\" ~ \"Gambia, The\",\n        country == \"Egypt\" ~ \"Egypt, Arab Rep.\",\n        country == \"Swaziland\" ~ \"Eswatini\",\n        country == \"Yemen\" ~\"Yemen, Rep.\",\n        country == \"Macedonia\" ~ \"North Macedonia\",\n        country == \"Syria\" ~ \"Syrian Arab Republic\",\n        country == \"Trinidad & Tobago\" ~ \"Trinidad and Tobago\",\n        country == \"Somaliland\" ~ \"Somalia\",\n        country == \"Somaliland Region\" ~\"Somalia\",\n        country == \"Somaliland region\" ~\"Somalia\",\n        TRUE ~ country)) |> \n    dplyr::filter(country != \"North Cyprus\")\n```\n:::\n\n\n\n\n\n::::\n:::::\n\n\n\n###### After cleaning\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-after-cleaning-2012}\n: After cleaning 2012\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_names <- base::readRDS(\"data/countries/country_only.rds\")\n\nnames_2012_countries <- names_2012_clean |> \n    dplyr::select(1)\n\ndplyr::full_join(\n    country_names,\n    names_2012_countries,\n    by = dplyr::join_by(Country == country)\n    ) |> \n    dplyr::slice(219:dplyr::n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 1 × 1\n#>   Country \n#>   <chr>   \n#> 1 Zimbabwe\n```\n\n\n:::\n:::\n\n\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n## Join ladder data\n\nWe have now prepared the data for every year separately and can now join them to a single tibble.\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-join-ladder-data-clean}\n: Join ladder data from all years\n::::::\n:::\n::::{.my-r-code-container}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwhr_join_clean <- dplyr::full_join(names_2024_clean, names_2023_clean, by = \"country\") |> \n    dplyr::full_join(names_2022_clean, by = \"country\") |> \n    dplyr::full_join(names_2021_clean, by = \"country\") |> \n    dplyr::full_join(names_2020_clean, by = \"country\") |> \n    dplyr::full_join(names_2019_clean, by = \"country\") |> \n    dplyr::full_join(names_2018_clean, by = \"country\") |> \n    dplyr::full_join(names_2017_clean, by = \"country\") |> \n    dplyr::full_join(names_2016_clean, by = \"country\") |> \n    dplyr::full_join(names_2015_clean, by = \"country\") |> \n    dplyr::full_join(names_2013_clean, by = \"country\") |> \n    dplyr::full_join(names_2012_clean, by = \"country\") |> \n    dplyr::arrange(country)\n\n\n# pb_save_data_file(\"whr/analysis\", whr_join_raw, \"whr_join_raw.rds\")\n# \n# whr_join_raw1 <- dplyr::full_join(ladder_2024, ladder_2023, by = \"country\")\n```\n:::\n\n\n\n\n\n::::\n:::::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<link href=\"site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/datatables-binding-0.33/datatables.js\"></script>\n<script src=\"site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}